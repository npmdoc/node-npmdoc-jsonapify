<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="https://github.com/alex94puchades/jsonapify#readme"

    >jsonapify (v1.6.9)</a>
</h1>
<h4>A library for the development of JSON APIs</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsonapify">module jsonapify</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Accessor">
            function <span class="apidocSignatureSpan">jsonapify.</span>Accessor
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.ApiError">
            function <span class="apidocSignatureSpan">jsonapify.</span>ApiError
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.ApiError.super_">
            function <span class="apidocSignatureSpan">jsonapify.</span>ApiError.super_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Const">
            function <span class="apidocSignatureSpan">jsonapify.</span>Const
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Field">
            function <span class="apidocSignatureSpan">jsonapify.</span>Field
            <span class="apidocSignatureSpan">(resource, name, value, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.HttpError">
            function <span class="apidocSignatureSpan">jsonapify.</span>HttpError
            <span class="apidocSignatureSpan">(status, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.InvalidFieldValue">
            function <span class="apidocSignatureSpan">jsonapify.</span>InvalidFieldValue
            <span class="apidocSignatureSpan">(field, value, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Link">
            function <span class="apidocSignatureSpan">jsonapify.</span>Link
            <span class="apidocSignatureSpan">(href, meta)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Property">
            function <span class="apidocSignatureSpan">jsonapify.</span>Property
            <span class="apidocSignatureSpan">(path)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Ref">
            function <span class="apidocSignatureSpan">jsonapify.</span>Ref
            <span class="apidocSignatureSpan">(resourceName, thisPath, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Refs">
            function <span class="apidocSignatureSpan">jsonapify.</span>Refs
            <span class="apidocSignatureSpan">(resourceName, thisPath, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Resource">
            function <span class="apidocSignatureSpan">jsonapify.</span>Resource
            <span class="apidocSignatureSpan">(model, descriptor, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.ResourceNotFound">
            function <span class="apidocSignatureSpan">jsonapify.</span>ResourceNotFound
            <span class="apidocSignatureSpan">(resource, anchor, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.ResourceView">
            function <span class="apidocSignatureSpan">jsonapify.</span>ResourceView
            <span class="apidocSignatureSpan">(transaction, resource, fields)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Response">
            function <span class="apidocSignatureSpan">jsonapify.</span>Response
            <span class="apidocSignatureSpan">(res)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Template">
            function <span class="apidocSignatureSpan">jsonapify.</span>Template
            <span class="apidocSignatureSpan">(format)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Transaction">
            function <span class="apidocSignatureSpan">jsonapify.</span>Transaction
            <span class="apidocSignatureSpan">(resource, response)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.UnknownError">
            function <span class="apidocSignatureSpan">jsonapify.</span>UnknownError
            <span class="apidocSignatureSpan">(err, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.assign">
            function <span class="apidocSignatureSpan">jsonapify.</span>assign
            <span class="apidocSignatureSpan">(chain, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.create">
            function <span class="apidocSignatureSpan">jsonapify.</span>create
            <span class="apidocSignatureSpan">(chain, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.enumerate">
            function <span class="apidocSignatureSpan">jsonapify.</span>enumerate
            <span class="apidocSignatureSpan">(chain, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.errorHandler">
            function <span class="apidocSignatureSpan">jsonapify.</span>errorHandler
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.filter">
            function <span class="apidocSignatureSpan">jsonapify.</span>filter
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.modify">
            function <span class="apidocSignatureSpan">jsonapify.</span>modify
            <span class="apidocSignatureSpan">(chain, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.paginate">
            function <span class="apidocSignatureSpan">jsonapify.</span>paginate
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.paginateOffset">
            function <span class="apidocSignatureSpan">jsonapify.</span>paginateOffset
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.param">
            function <span class="apidocSignatureSpan">jsonapify.</span>param
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.parent">
            function <span class="apidocSignatureSpan">jsonapify.</span>parent
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.query">
            function <span class="apidocSignatureSpan">jsonapify.</span>query
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.read">
            function <span class="apidocSignatureSpan">jsonapify.</span>read
            <span class="apidocSignatureSpan">(chain, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.remove">
            function <span class="apidocSignatureSpan">jsonapify.</span>remove
            <span class="apidocSignatureSpan">(chain, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.select">
            function <span class="apidocSignatureSpan">jsonapify.</span>select
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.sort">
            function <span class="apidocSignatureSpan">jsonapify.</span>sort
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.update">
            function <span class="apidocSignatureSpan">jsonapify.</span>update
            <span class="apidocSignatureSpan">(chain, opts)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsonapify.</span>Accessor.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsonapify.</span>ApiError.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsonapify.</span>Const.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsonapify.</span>Field.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsonapify.</span>Link.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsonapify.</span>Property.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsonapify.</span>Ref.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsonapify.</span>Refs.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsonapify.</span>Registry</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsonapify.</span>Resource.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsonapify.</span>ResourceView.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsonapify.</span>Response.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsonapify.</span>Runtime</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsonapify.</span>Template.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsonapify.</span>Transaction.prototype</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsonapify.</span>accessors</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsonapify.</span>common</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsonapify.</span>errors</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsonapify.</span>filters</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsonapify.</span>middleware</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">jsonapify.</span>selectors</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsonapify.Accessor">module jsonapify.Accessor</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Accessor.Accessor">
            function <span class="apidocSignatureSpan">jsonapify.</span>Accessor
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsonapify.Accessor.prototype">module jsonapify.Accessor.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Accessor.prototype.deserialize">
            function <span class="apidocSignatureSpan">jsonapify.Accessor.prototype.</span>deserialize
            <span class="apidocSignatureSpan">(field, transaction, resdata, object, done)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Accessor.prototype.serialize">
            function <span class="apidocSignatureSpan">jsonapify.Accessor.prototype.</span>serialize
            <span class="apidocSignatureSpan">(field, transaction, object, done)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Accessor.prototype.visitProperties">
            function <span class="apidocSignatureSpan">jsonapify.Accessor.prototype.</span>visitProperties
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsonapify.ApiError">module jsonapify.ApiError</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.ApiError.ApiError">
            function <span class="apidocSignatureSpan">jsonapify.</span>ApiError
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.ApiError.super_">
            function <span class="apidocSignatureSpan">jsonapify.ApiError.</span>super_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsonapify.ApiError.prototype">module jsonapify.ApiError.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.ApiError.prototype.toJSON">
            function <span class="apidocSignatureSpan">jsonapify.ApiError.prototype.</span>toJSON
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsonapify.ApiError.super_">module jsonapify.ApiError.super_</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.ApiError.super_.super_">
            function <span class="apidocSignatureSpan">jsonapify.ApiError.</span>super_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.ApiError.super_.captureStackTrace">
            function <span class="apidocSignatureSpan">jsonapify.ApiError.super_.</span>captureStackTrace
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">number <span class="apidocSignatureSpan">jsonapify.ApiError.super_.</span>stackTraceLimit</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsonapify.Const">module jsonapify.Const</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Const.Const">
            function <span class="apidocSignatureSpan">jsonapify.</span>Const
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Const.super_">
            function <span class="apidocSignatureSpan">jsonapify.Const.</span>super_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsonapify.Const.prototype">module jsonapify.Const.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Const.prototype.deserialize">
            function <span class="apidocSignatureSpan">jsonapify.Const.prototype.</span>deserialize
            <span class="apidocSignatureSpan">(field, transaction, resdata, object, done)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Const.prototype.serialize">
            function <span class="apidocSignatureSpan">jsonapify.Const.prototype.</span>serialize
            <span class="apidocSignatureSpan">(field, transaction, object, done)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsonapify.Field">module jsonapify.Field</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Field.Field">
            function <span class="apidocSignatureSpan">jsonapify.</span>Field
            <span class="apidocSignatureSpan">(resource, name, value, opts)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsonapify.Field.prototype">module jsonapify.Field.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Field.prototype.deserialize">
            function <span class="apidocSignatureSpan">jsonapify.Field.prototype.</span>deserialize
            <span class="apidocSignatureSpan">(transaction, resdata, object, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Field.prototype.serialize">
            function <span class="apidocSignatureSpan">jsonapify.Field.prototype.</span>serialize
            <span class="apidocSignatureSpan">(transaction, object, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Field.prototype.visitProperties">
            function <span class="apidocSignatureSpan">jsonapify.Field.prototype.</span>visitProperties
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsonapify.HttpError">module jsonapify.HttpError</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.HttpError.HttpError">
            function <span class="apidocSignatureSpan">jsonapify.</span>HttpError
            <span class="apidocSignatureSpan">(status, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.HttpError.super_">
            function <span class="apidocSignatureSpan">jsonapify.HttpError.</span>super_
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsonapify.InvalidFieldValue">module jsonapify.InvalidFieldValue</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.InvalidFieldValue.InvalidFieldValue">
            function <span class="apidocSignatureSpan">jsonapify.</span>InvalidFieldValue
            <span class="apidocSignatureSpan">(field, value, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.InvalidFieldValue.super_">
            function <span class="apidocSignatureSpan">jsonapify.InvalidFieldValue.</span>super_
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsonapify.Link">module jsonapify.Link</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Link.Link">
            function <span class="apidocSignatureSpan">jsonapify.</span>Link
            <span class="apidocSignatureSpan">(href, meta)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsonapify.Link.prototype">module jsonapify.Link.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Link.prototype.toJSON">
            function <span class="apidocSignatureSpan">jsonapify.Link.prototype.</span>toJSON
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsonapify.Property">module jsonapify.Property</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Property.Property">
            function <span class="apidocSignatureSpan">jsonapify.</span>Property
            <span class="apidocSignatureSpan">(path)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Property.super_">
            function <span class="apidocSignatureSpan">jsonapify.Property.</span>super_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsonapify.Property.prototype">module jsonapify.Property.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Property.prototype.deserialize">
            function <span class="apidocSignatureSpan">jsonapify.Property.prototype.</span>deserialize
            <span class="apidocSignatureSpan">(field, transaction, resdata, object, done)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Property.prototype.serialize">
            function <span class="apidocSignatureSpan">jsonapify.Property.prototype.</span>serialize
            <span class="apidocSignatureSpan">(field, transaction, object, done)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Property.prototype.visitProperties">
            function <span class="apidocSignatureSpan">jsonapify.Property.prototype.</span>visitProperties
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsonapify.Ref">module jsonapify.Ref</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Ref.Ref">
            function <span class="apidocSignatureSpan">jsonapify.</span>Ref
            <span class="apidocSignatureSpan">(resourceName, thisPath, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Ref.super_">
            function <span class="apidocSignatureSpan">jsonapify.Ref.</span>super_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsonapify.Ref.prototype">module jsonapify.Ref.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Ref.prototype.deserialize">
            function <span class="apidocSignatureSpan">jsonapify.Ref.prototype.</span>deserialize
            <span class="apidocSignatureSpan">(field, transaction, resdata, object, done)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Ref.prototype.serialize">
            function <span class="apidocSignatureSpan">jsonapify.Ref.prototype.</span>serialize
            <span class="apidocSignatureSpan">(field, transaction, object, done)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Ref.prototype.visitProperties">
            function <span class="apidocSignatureSpan">jsonapify.Ref.prototype.</span>visitProperties
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsonapify.Refs">module jsonapify.Refs</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Refs.Refs">
            function <span class="apidocSignatureSpan">jsonapify.</span>Refs
            <span class="apidocSignatureSpan">(resourceName, thisPath, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Refs.super_">
            function <span class="apidocSignatureSpan">jsonapify.Refs.</span>super_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsonapify.Refs.prototype">module jsonapify.Refs.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Refs.prototype.accessProperties">
            function <span class="apidocSignatureSpan">jsonapify.Refs.prototype.</span>accessProperties
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Refs.prototype.deserialize">
            function <span class="apidocSignatureSpan">jsonapify.Refs.prototype.</span>deserialize
            <span class="apidocSignatureSpan">(field, transaction, resdata, object, done)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Refs.prototype.serialize">
            function <span class="apidocSignatureSpan">jsonapify.Refs.prototype.</span>serialize
            <span class="apidocSignatureSpan">(field, transaction, object, done)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsonapify.Resource">module jsonapify.Resource</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Resource.Resource">
            function <span class="apidocSignatureSpan">jsonapify.</span>Resource
            <span class="apidocSignatureSpan">(model, descriptor, opts)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsonapify.Resource.prototype">module jsonapify.Resource.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Resource.prototype.view">
            function <span class="apidocSignatureSpan">jsonapify.Resource.prototype.</span>view
            <span class="apidocSignatureSpan">(transaction)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsonapify.ResourceNotFound">module jsonapify.ResourceNotFound</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.ResourceNotFound.ResourceNotFound">
            function <span class="apidocSignatureSpan">jsonapify.</span>ResourceNotFound
            <span class="apidocSignatureSpan">(resource, anchor, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.ResourceNotFound.super_">
            function <span class="apidocSignatureSpan">jsonapify.ResourceNotFound.</span>super_
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsonapify.ResourceView">module jsonapify.ResourceView</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.ResourceView.ResourceView">
            function <span class="apidocSignatureSpan">jsonapify.</span>ResourceView
            <span class="apidocSignatureSpan">(transaction, resource, fields)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsonapify.ResourceView.prototype">module jsonapify.ResourceView.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.ResourceView.prototype.deserialize">
            function <span class="apidocSignatureSpan">jsonapify.ResourceView.prototype.</span>deserialize
            <span class="apidocSignatureSpan">(resdata, object, done)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.ResourceView.prototype.field">
            function <span class="apidocSignatureSpan">jsonapify.ResourceView.prototype.</span>field
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.ResourceView.prototype.findMany">
            function <span class="apidocSignatureSpan">jsonapify.ResourceView.prototype.</span>findMany
            <span class="apidocSignatureSpan">(filter, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.ResourceView.prototype.findOne">
            function <span class="apidocSignatureSpan">jsonapify.ResourceView.prototype.</span>findOne
            <span class="apidocSignatureSpan">(filter, callback)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.ResourceView.prototype.select">
            function <span class="apidocSignatureSpan">jsonapify.ResourceView.prototype.</span>select
            <span class="apidocSignatureSpan">(names)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.ResourceView.prototype.serialize">
            function <span class="apidocSignatureSpan">jsonapify.ResourceView.prototype.</span>serialize
            <span class="apidocSignatureSpan">(object, done)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.ResourceView.prototype.visitProperties">
            function <span class="apidocSignatureSpan">jsonapify.ResourceView.prototype.</span>visitProperties
            <span class="apidocSignatureSpan">(name, callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsonapify.Response">module jsonapify.Response</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Response.Response">
            function <span class="apidocSignatureSpan">jsonapify.</span>Response
            <span class="apidocSignatureSpan">(res)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsonapify.Response.prototype">module jsonapify.Response.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Response.prototype.error">
            function <span class="apidocSignatureSpan">jsonapify.Response.prototype.</span>error
            <span class="apidocSignatureSpan">(err)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Response.prototype.include">
            function <span class="apidocSignatureSpan">jsonapify.Response.prototype.</span>include
            <span class="apidocSignatureSpan">(type, id, data)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Response.prototype.send">
            function <span class="apidocSignatureSpan">jsonapify.Response.prototype.</span>send
            <span class="apidocSignatureSpan">(data)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Response.prototype.toJSON">
            function <span class="apidocSignatureSpan">jsonapify.Response.prototype.</span>toJSON
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsonapify.Template">module jsonapify.Template</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Template.Template">
            function <span class="apidocSignatureSpan">jsonapify.</span>Template
            <span class="apidocSignatureSpan">(format)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Template.super_">
            function <span class="apidocSignatureSpan">jsonapify.Template.</span>super_
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsonapify.Template.prototype">module jsonapify.Template.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Template.prototype.deserialize">
            function <span class="apidocSignatureSpan">jsonapify.Template.prototype.</span>deserialize
            <span class="apidocSignatureSpan">(field, transaction, resdata, object, done)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Template.prototype.serialize">
            function <span class="apidocSignatureSpan">jsonapify.Template.prototype.</span>serialize
            <span class="apidocSignatureSpan">(field, transaction, object, done)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Template.prototype.visitProperties">
            function <span class="apidocSignatureSpan">jsonapify.Template.prototype.</span>visitProperties
            <span class="apidocSignatureSpan">(callback)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsonapify.Transaction">module jsonapify.Transaction</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Transaction.Transaction">
            function <span class="apidocSignatureSpan">jsonapify.</span>Transaction
            <span class="apidocSignatureSpan">(resource, response)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsonapify.Transaction.prototype">module jsonapify.Transaction.prototype</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Transaction.prototype.notify">
            function <span class="apidocSignatureSpan">jsonapify.Transaction.prototype.</span>notify
            <span class="apidocSignatureSpan">(resource, what)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Transaction.prototype.subscribe">
            function <span class="apidocSignatureSpan">jsonapify.Transaction.prototype.</span>subscribe
            <span class="apidocSignatureSpan">(type, what, handler)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Transaction.prototype.transform">
            function <span class="apidocSignatureSpan">jsonapify.Transaction.prototype.</span>transform
            <span class="apidocSignatureSpan">(resource, what)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.Transaction.prototype.unsubscribe">
            function <span class="apidocSignatureSpan">jsonapify.Transaction.prototype.</span>unsubscribe
            <span class="apidocSignatureSpan">(type, what, handler)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsonapify.UnknownError">module jsonapify.UnknownError</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.UnknownError.UnknownError">
            function <span class="apidocSignatureSpan">jsonapify.</span>UnknownError
            <span class="apidocSignatureSpan">(err, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.UnknownError.super_">
            function <span class="apidocSignatureSpan">jsonapify.UnknownError.</span>super_
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsonapify.accessors">module jsonapify.accessors</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.accessors.Const">
            function <span class="apidocSignatureSpan">jsonapify.accessors.</span>Const
            <span class="apidocSignatureSpan">(value)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.accessors.Property">
            function <span class="apidocSignatureSpan">jsonapify.accessors.</span>Property
            <span class="apidocSignatureSpan">(path)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.accessors.Ref">
            function <span class="apidocSignatureSpan">jsonapify.accessors.</span>Ref
            <span class="apidocSignatureSpan">(resourceName, thisPath, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.accessors.Refs">
            function <span class="apidocSignatureSpan">jsonapify.accessors.</span>Refs
            <span class="apidocSignatureSpan">(resourceName, thisPath, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.accessors.Template">
            function <span class="apidocSignatureSpan">jsonapify.accessors.</span>Template
            <span class="apidocSignatureSpan">(format)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsonapify.common">module jsonapify.common</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.common.createFilter">
            function <span class="apidocSignatureSpan">jsonapify.common.</span>createFilter
            <span class="apidocSignatureSpan">(queryParse, handler)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.common.modifyQuery">
            function <span class="apidocSignatureSpan">jsonapify.common.</span>modifyQuery
            <span class="apidocSignatureSpan">(uri, query)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsonapify.errors">module jsonapify.errors</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.errors.ApiError">
            function <span class="apidocSignatureSpan">jsonapify.errors.</span>ApiError
            <span class="apidocSignatureSpan">(opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.errors.HttpError">
            function <span class="apidocSignatureSpan">jsonapify.errors.</span>HttpError
            <span class="apidocSignatureSpan">(status, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.errors.InvalidFieldValue">
            function <span class="apidocSignatureSpan">jsonapify.errors.</span>InvalidFieldValue
            <span class="apidocSignatureSpan">(field, value, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.errors.ResourceNotFound">
            function <span class="apidocSignatureSpan">jsonapify.errors.</span>ResourceNotFound
            <span class="apidocSignatureSpan">(resource, anchor, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.errors.UnknownError">
            function <span class="apidocSignatureSpan">jsonapify.errors.</span>UnknownError
            <span class="apidocSignatureSpan">(err, opts)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsonapify.filters">module jsonapify.filters</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.filters.filter">
            function <span class="apidocSignatureSpan">jsonapify.filters.</span>filter
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.filters.paginate">
            function <span class="apidocSignatureSpan">jsonapify.filters.</span>paginate
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.filters.paginateOffset">
            function <span class="apidocSignatureSpan">jsonapify.filters.</span>paginateOffset
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.filters.select">
            function <span class="apidocSignatureSpan">jsonapify.filters.</span>select
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.filters.sort">
            function <span class="apidocSignatureSpan">jsonapify.filters.</span>sort
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsonapify.middleware">module jsonapify.middleware</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.middleware.assign">
            function <span class="apidocSignatureSpan">jsonapify.middleware.</span>assign
            <span class="apidocSignatureSpan">(chain, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.middleware.create">
            function <span class="apidocSignatureSpan">jsonapify.middleware.</span>create
            <span class="apidocSignatureSpan">(chain, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.middleware.enumerate">
            function <span class="apidocSignatureSpan">jsonapify.middleware.</span>enumerate
            <span class="apidocSignatureSpan">(chain, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.middleware.errorHandler">
            function <span class="apidocSignatureSpan">jsonapify.middleware.</span>errorHandler
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.middleware.modify">
            function <span class="apidocSignatureSpan">jsonapify.middleware.</span>modify
            <span class="apidocSignatureSpan">(chain, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.middleware.read">
            function <span class="apidocSignatureSpan">jsonapify.middleware.</span>read
            <span class="apidocSignatureSpan">(chain, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.middleware.remove">
            function <span class="apidocSignatureSpan">jsonapify.middleware.</span>remove
            <span class="apidocSignatureSpan">(chain, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.middleware.update">
            function <span class="apidocSignatureSpan">jsonapify.middleware.</span>update
            <span class="apidocSignatureSpan">(chain, opts)</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.jsonapify.selectors">module jsonapify.selectors</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.selectors.param">
            function <span class="apidocSignatureSpan">jsonapify.selectors.</span>param
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.selectors.parent">
            function <span class="apidocSignatureSpan">jsonapify.selectors.</span>parent
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.jsonapify.selectors.query">
            function <span class="apidocSignatureSpan">jsonapify.selectors.</span>query
            <span class="apidocSignatureSpan">(name)</span>
            </a>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsonapify" id="apidoc.module.jsonapify">module jsonapify</a></h1>


    <h2>
        <a href="#apidoc.element.jsonapify.Accessor" id="apidoc.element.jsonapify.Accessor">
        function <span class="apidocSignatureSpan">jsonapify.</span>Accessor
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Accessor() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.ApiError" id="apidoc.element.jsonapify.ApiError">
        function <span class="apidocSignatureSpan">jsonapify.</span>ApiError
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ApiError(opts) {
	opts = _.defaults({}, opts, {
		meta: {},
		links: {},
		status: 500,
	});
	this._id = opts.id;
	this._code = opts.code;
	this._meta = opts.meta;
	this._links = opts.links;
	this._title = opts.title;
	this._status = opts.status;
	this._detail = opts.detail;
	this._source = opts.source;
	Error.call(this, opts.detail);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.ApiError.super_" id="apidoc.element.jsonapify.ApiError.super_">
        function <span class="apidocSignatureSpan">jsonapify.</span>ApiError.super_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Error() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.Const" id="apidoc.element.jsonapify.Const">
        function <span class="apidocSignatureSpan">jsonapify.</span>Const
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Const(value) {
	this._value = value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.Field" id="apidoc.element.jsonapify.Field">
        function <span class="apidocSignatureSpan">jsonapify.</span>Field
        <span class="apidocSignatureSpan">(resource, name, value, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Field(resource, name, value, opts) {
	opts = _.defaults({}, opts, {
		readable: true,
		writable: true,
		nullable: false,
	});
	this._name = name;
	this._resource = resource;
	this._accessor = toAccessor(value);
	this._readable = opts.readable;
	this._writable = opts.writable;
	this._nullable = opts.nullable;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.HttpError" id="apidoc.element.jsonapify.HttpError">
        function <span class="apidocSignatureSpan">jsonapify.</span>HttpError
        <span class="apidocSignatureSpan">(status, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function HttpError(status, opts) {
	opts = opts || {};
	opts.status = status;
	opts.detail = http.STATUS_CODES[status];
	ApiError.call(this, opts);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.InvalidFieldValue" id="apidoc.element.jsonapify.InvalidFieldValue">
        function <span class="apidocSignatureSpan">jsonapify.</span>InvalidFieldValue
        <span class="apidocSignatureSpan">(field, value, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function InvalidFieldValue(field, value, opts) {
	opts = opts || {};
	opts.status = 422;
	opts.detail = &#x27;Invalid Field Value&#x27;;
	ApiError.call(this, opts);
	this._field = field;
	this._value = value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.Link" id="apidoc.element.jsonapify.Link">
        function <span class="apidocSignatureSpan">jsonapify.</span>Link
        <span class="apidocSignatureSpan">(href, meta)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Link(href, meta) {
	if (_.isPlainObject(href) &#x26;&#x26; !meta) {
		var link = href;
		href = link.href;
		meta = link.meta;
	}
	this._href = href || &#x27;&#x27;;
	this._meta = meta || {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.Property" id="apidoc.element.jsonapify.Property">
        function <span class="apidocSignatureSpan">jsonapify.</span>Property
        <span class="apidocSignatureSpan">(path)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Property(path) {
	this._path = path;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
jsonapify detaches mongoose models from the actual representation of the resources. This allows for a lot of flexibility: as a matter
 of fact, declaring a non-readable field is this elegant:

```js
var User = require(&#x27;../models/User&#x27;);

var userResource = new jsonapify.Resource(User, {
	type: &#x27;users&#x27;,
	id: new jsonapify.<span class="apidocCodeKeywordSpan">Property</span>(&#x27;_id&#x27;),
	attributes: {
		email: new jsonapify.Property(&#x27;email&#x27;),
		password: {
			value: new jsonapify.Property(&#x27;password&#x27;),
			readable: false,
		},
	},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.Ref" id="apidoc.element.jsonapify.Ref">
        function <span class="apidocSignatureSpan">jsonapify.</span>Ref
        <span class="apidocSignatureSpan">(resourceName, thisPath, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Ref(resourceName, thisPath, opts) {
	opts = opts || {};
	this._resourceName = resourceName;
	this._thisPath = thisPath;
	this._links = opts.links;
	this._meta = opts.meta;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var User = require(&#x27;../models/User&#x27;);
var roleResource = require(&#x27;./roles&#x27;).resource;

var userResource = new jsonapify.Resource(User, {
	type: &#x27;users&#x27;,
	id: new jsonapify.Property(&#x27;_id&#x27;),
	relationships: {
		role: new jsonapify.<span class="apidocCodeKeywordSpan">Ref</span>(&#x27;Role&#x27;, &#x27;role&#x27;),
	},
});

jsonapify.Runtime.addResource(&#x27;User&#x27;, userResource);
```

**Note**: **_related resources_ are not _subresources_**. Subresources are resource-like objects so tightly linked to their parent
 resource that they can&#x27;t exist on their own. jsonapify does not support access of related resources as subresources. This
is by-design.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.Refs" id="apidoc.element.jsonapify.Refs">
        function <span class="apidocSignatureSpan">jsonapify.</span>Refs
        <span class="apidocSignatureSpan">(resourceName, thisPath, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Refs(resourceName, thisPath, opts) {
	opts = opts || {};
	this._resourceName = resourceName;
	this._thisPath = thisPath;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.Resource" id="apidoc.element.jsonapify.Resource">
        function <span class="apidocSignatureSpan">jsonapify.</span>Resource
        <span class="apidocSignatureSpan">(model, descriptor, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Resource(model, descriptor, opts) {
	if (!descriptor &#x26;&#x26; _.isPlainObject(model)) {
		descriptor = model;
		model = undefined;
	}
	this._model = model;
	this._type = descriptor.type;
	this._fields = extractFields(this, descriptor);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
## Declaring resources

jsonapify detaches mongoose models from the actual representation of the resources. This allows for a lot of flexibility: as a matter
 of fact, declaring a non-readable field is this elegant:

```js
var User = require(&#x27;../models/User&#x27;);

var userResource = new jsonapify.<span class="apidocCodeKeywordSpan">Resource</span>(User, {
	type: &#x27;users&#x27;,
	id: new jsonapify.Property(&#x27;_id&#x27;),
	attributes: {
		email: new jsonapify.Property(&#x27;email&#x27;),
		password: {
			value: new jsonapify.Property(&#x27;password&#x27;),
			readable: false,
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.ResourceNotFound" id="apidoc.element.jsonapify.ResourceNotFound">
        function <span class="apidocSignatureSpan">jsonapify.</span>ResourceNotFound
        <span class="apidocSignatureSpan">(resource, anchor, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ResourceNotFound(resource, anchor, opts) {
	opts = opts || {};
	opts.status = 404;
	opts.detail = &#x27;Resource Not Found&#x27;;
	ApiError.call(this, opts);
	this._resource = resource;
	this._anchor = anchor;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.ResourceView" id="apidoc.element.jsonapify.ResourceView">
        function <span class="apidocSignatureSpan">jsonapify.</span>ResourceView
        <span class="apidocSignatureSpan">(transaction, resource, fields)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ResourceView(transaction, resource, fields) {
	if (transaction instanceof ResourceView) {
		var resview = transaction;
		copyFrom(this, resview);
		if (_.isPlainObject(resource)) {
			var opts = resource;
			applyOptions(this, opts);
		}
	} else {
		this._root = this;
		this._transaction = transaction;
		this._resource = resource;
		setFields(this, fields);
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.Response" id="apidoc.element.jsonapify.Response">
        function <span class="apidocSignatureSpan">jsonapify.</span>Response
        <span class="apidocSignatureSpan">(res)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Response(res) {
	this._res = res;
	this._meta = {};
	this._links = {};
	this._errors = [];
	this._included = [];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.Template" id="apidoc.element.jsonapify.Template">
        function <span class="apidocSignatureSpan">jsonapify.</span>Template
        <span class="apidocSignatureSpan">(format)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Template(format) {
	var self = this;
	this._strings = [];
	this._values = [];
	var chunks = format.split(/\$\{([^\}]*)\}/);
	_(chunks).chunk(2).forEach(function(stringValue) {
		self._strings.push(stringValue[0]);
		if (stringValue.length &#x3e; 1)
			self._values.push(stringValue[1]);
	}).run();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var User = require(&#x27;../models/User&#x27;);

var userResource = new jsonapify.Resource(User, {
	type: &#x27;users&#x27;,
	id: new jsonapify.Property(&#x27;_id&#x27;),
	links: {
		self: {
			value: new jsonapify.<span class="apidocCodeKeywordSpan">Template</span>(&#x27;/users/${_id}&#x27;),
			writable: false,
		},
	},
});

jsonapify.Runtime.addResource(&#x27;User&#x27;, userResource);
```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.Transaction" id="apidoc.element.jsonapify.Transaction">
        function <span class="apidocSignatureSpan">jsonapify.</span>Transaction
        <span class="apidocSignatureSpan">(resource, response)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Transaction(resource, response) {
	this._resource = resource;
	this._response = response;
	this._handlers = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.UnknownError" id="apidoc.element.jsonapify.UnknownError">
        function <span class="apidocSignatureSpan">jsonapify.</span>UnknownError
        <span class="apidocSignatureSpan">(err, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function UnknownError(err, opts) {
	opts = opts || {};
	opts.status = 500;
	opts.detail = err.message;
	ApiError.call(this, opts);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.assign" id="apidoc.element.jsonapify.assign">
        function <span class="apidocSignatureSpan">jsonapify.</span>assign
        <span class="apidocSignatureSpan">(chain, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function assign(chain, opts) {
	opts = _.defaults({}, opts, defaultOpts);
	chain = common.parseChain(chain);
	var lastLink = chain.pop();
	return middleware;

	function middleware(req, res, next) {
		var resource = lastLink.resource;
		var transaction = common.initTransaction(resource, res);
		_.each(opts.filters, function(filter) { filter(transaction) });
		transaction.notify(resource, &#x27;start&#x27;, req);
		async.waterfall([
			function(next) {
				common.applyChain(transaction, chain, req, next);
			},
			function(parent, next) {
				var selector = lastLink.selector;
				var resview = resource.view(transaction);
				var filter = common.resolveSelector(selector, req, parent);
				resview.findOne(filter, function(err, object) {
					if (err) return next(err);
					object = object || new resource.model(filter);
					next(null, object, resview);
				});
			},
			function(object, resview, next) {
				resview.deserialize(req.body.data, object, function(err, data) {
					err ? next(err) : next(null, data, resview);
				});
			},
		], function(err, object, resview) {
			if (err) return next(err);
			var response = transaction.response;
			if (opts.noWait) {
				response.raw.statusCode = 202;
				transaction.notify(resource, &#x27;end&#x27;);
				response.send(null);
				object.save(next);
			} else {
				async.parallel({
					save: function(next) {
						object.save(next);
					},
					data: function(next) {
						resview.serialize(object, next);
					},
				}, function(err, results) {
					if (err) return next(err);
					response.data = results.data;
					transaction.notify(resource, &#x27;end&#x27;);
					response.send();
					next();
				});
			}
		});
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.create" id="apidoc.element.jsonapify.create">
        function <span class="apidocSignatureSpan">jsonapify.</span>create
        <span class="apidocSignatureSpan">(chain, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function create(chain, opts) {
	opts = _.defaults({}, opts, defaultOpts);
	chain = common.parseChain(chain);
	var lastLink = chain.pop();
	return middleware;

	function middleware(req, res, next) {
		var resource = lastLink.resource;
		var transaction = common.initTransaction(resource, res);
		_.each(opts.filters, function(filter) { filter(transaction) });
		transaction.notify(resource, &#x27;start&#x27;, req);
		async.waterfall([
			function(next) {
				common.applyChain(transaction, chain, req, next);
			},
			function(parent, next) {
				var selector = lastLink.selector;
				var filter = common.resolveSelector(selector, req, parent);
				var object = new resource.model(filter);
				var resview = resource.view(transaction);
				resview.deserialize(req.body.data, object, function(err) {
					err ? next(err) : next(null, object, resview);
				});
			},
		], function(err, object, resview) {
			if (err) return next(err);
			var response = transaction.response;
			response.links[&#x27;self&#x27;] = req.originalUrl;
			if (opts.noWait) {
				response.raw.statusCode = 202;
				transaction.notify(resource, &#x27;end&#x27;);
				response.send(null);
				object.save(next);
			} else {
				async.parallel({
					save: function(next) {
						object.save(next);
					},
					data: function(next) {
						resview.serialize(object, next);
					},
				}, function(err, results) {
					if (err) return next(err);
					var data = results.data;
					response.data = data;
					response.raw.statusCode = 201;
					var location = _.get(data, &#x27;links.self&#x27;);
					if (location) response.raw.set(&#x27;Location&#x27;, location);
					transaction.notify(resource, &#x27;end&#x27;);
					response.send();
					next();
				});
			}
		});
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.enumerate" id="apidoc.element.jsonapify.enumerate">
        function <span class="apidocSignatureSpan">jsonapify.</span>enumerate
        <span class="apidocSignatureSpan">(chain, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function enumerate(chain, opts) {
	opts = _.defaults({}, opts, defaultOpts);
	chain = common.parseChain(chain);
	var lastLink = chain.pop();
	return middleware;

	function middleware(req, res, next) {
		var resource = lastLink.resource;
		var transaction = common.initTransaction(resource, res);
		_.each(opts.filters, function(filter) { filter(transaction) });
		transaction.notify(resource, &#x27;start&#x27;, req);
		async.waterfall([
			function(next) {
				common.applyChain(transaction, chain, req, next);
			},
			function(parent, next) {
				var selector = lastLink.selector;
				var filter = common.resolveSelector(selector, req, parent);
				var resview = resource.view(transaction);
				async.parallel({
					data: function(next) {
						resview.findMany(filter, function(err, objects) {
							if (err) return next(err);
							async.map(objects, function(object, next) {
								resview.serialize(object, next);
							}, next);
						});
					},
					count: function(next) {
						resview.model.where(filter).count(next);
					},
				}, next);
			},
		], function(err, results) {
			if (err) return next(err);
			var response = transaction.response;
			response.meta.count = results.count;
			response.links.self = req.originalUrl;
			response.data = results.data;
			transaction.notify(resource, &#x27;end&#x27;);
			response.send();
			next();
		});
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

## Exposing resources

We all know about [DRY](https://en.wikipedia.org/wiki/Don%27t_repeat_yourself). But then, why do we keep writing the same endpoint
 boilerplate again and again? jsonapify offers all [CRUD operations](https://en.wikipedia.org/wiki/Create,_read,_update_and_delete
) as connect-compatible middleware. That means plugging a new endpoint is as simple as it gets:

```js
app.get(&#x27;/users/&#x27;, [
	jsonapify.<span class="apidocCodeKeywordSpan">enumerate</span>(&#x27;User&#x27;),
	jsonapify.errorHandler()
]);
```

## Middleware and resource addressing

Everything in REST is a resource. Resources can have subresources, too. That means that you can apply a READ operation (GET verb
 in REST terms) to a subresource. Let&#x27;s see how resource addressing works in jsonapify.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.errorHandler" id="apidoc.element.jsonapify.errorHandler">
        function <span class="apidocSignatureSpan">jsonapify.</span>errorHandler
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function errorHandler() {
	return middleware;
	
	function middleware(err, req, res, next) {
		var transaction = common.initTransaction(null, res);
		var response = transaction.response;
		if (!(err instanceof ApiError))
			err = new UnknownError(err);
		response.error(err);
		response.send();
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
## Exposing resources

We all know about [DRY](https://en.wikipedia.org/wiki/Don%27t_repeat_yourself). But then, why do we keep writing the same endpoint
 boilerplate again and again? jsonapify offers all [CRUD operations](https://en.wikipedia.org/wiki/Create,_read,_update_and_delete
) as connect-compatible middleware. That means plugging a new endpoint is as simple as it gets:

```js
app.get(&#x27;/users/&#x27;, [
	jsonapify.enumerate(&#x27;User&#x27;),
	jsonapify.<span class="apidocCodeKeywordSpan">errorHandler</span>()
]);
```

## Middleware and resource addressing

Everything in REST is a resource. Resources can have subresources, too. That means that you can apply a READ operation (GET verb
 in REST terms) to a subresource. Let&#x27;s see how resource addressing works in jsonapify.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.filter" id="apidoc.element.jsonapify.filter">
        function <span class="apidocSignatureSpan">jsonapify.</span>filter
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function filter() {
	return common.createFilter(queryParser, function(transaction, req, type, param) {
		var filters = parseParam(param);
		transaction.subscribe(type, &#x27;query&#x27;, function(resview, query) {
			_.each(filters, function(filter, field) {
				resview.visitProperties(field, _.partialRight(filter, query));
			});
		});
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var common = require(&#x27;./common&#x27;);
var filters = require(&#x27;../filters&#x27;);

var defaultOpts = {
	strict: false,
	filters: [
		filters.sort(),
		filters.<span class="apidocCodeKeywordSpan">filter</span>(),
		filters.select(),
		filters.paginateOffset(),
	],
};

function enumerate(chain, opts) {
	opts = _.defaults({}, opts, defaultOpts);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.modify" id="apidoc.element.jsonapify.modify">
        function <span class="apidocSignatureSpan">jsonapify.</span>modify
        <span class="apidocSignatureSpan">(chain, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function modify(chain, opts) {
	opts = _.defaults({}, opts, defaultOpts);
	chain = common.parseChain(chain);
	return middleware;

	function middleware(req, res, next) {
		var resource = _.last(chain).resource;
		var transaction = common.initTransaction(resource, res);
		_.each(opts.filters, function(filter) { filter(transaction) });
		transaction.notify(resource, &#x27;start&#x27;, req);
		async.waterfall([
			function(next) {
				common.applyChain(transaction, chain, req, next);
			},
			function(object, next) {
				var resview = resource.view(transaction);
				resview.serialize(object, function(err, data) {
					err ? next(err) : next(null, data, resview, object);
				});
			},
			function(data, resview, object, next) {
				try {
					var result = jsonpatch.apply_patch(data, req.body.data);
					resview.deserialize(result, object, function(err) {
						err ? next(err) : next(null, object, result);
					});
				} catch (err) { return next(err) }
			},
			function(object, result, next) {
				object.save(function(err) {
					err ? next(err) : next(null, result);
				});
			},
		], function(err, resdata) {
			if (err) return next(err);
			var response = transaction.response;
			response.data = resdata;
			transaction.notify(resource, &#x27;end&#x27;);
			response.send();
			next();
		});
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.paginate" id="apidoc.element.jsonapify.paginate">
        function <span class="apidocSignatureSpan">jsonapify.</span>paginate
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function paginate() {
	return common.createFilter(queryParser, function(transaction, req, type, params) {
		var pageNumber = params.number, pageSize = params.size;

		transaction.subscribe(type, &#x27;query&#x27;, function(resource, query) {
			query.skip((pageNumber - 1) * pageSize).limit(pageSize);
		});

		transaction.subscribe(type, &#x27;end&#x27;, function(resource) {
			var selfLink = req.originalUrl;
			var response = transaction.response;
			var count = response.meta[&#x27;count&#x27;];
			var pageCount = Math.ceil(count / pageSize);
			response.links[&#x27;first&#x27;] = common.modifyQuery(selfLink, { page: { number: 1 }});
			response.links[&#x27;last&#x27;] = common.modifyQuery(selfLink, { page: { number: pageCount }});
			if (pageNumber &#x3e; 1)
				response.links[&#x27;prev&#x27;] = common.modifyQuery(selfLink, { page: { number: pageNumber - 1 }});
			if (pageNumber &#x3c; pageCount)
				response.links[&#x27;next&#x27;] = common.modifyQuery(selfLink, { page: { number: pageNumber + 1 }});
		});
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.paginateOffset" id="apidoc.element.jsonapify.paginateOffset">
        function <span class="apidocSignatureSpan">jsonapify.</span>paginateOffset
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function paginate() {
	return common.createFilter(queryParser, function(transaction, req, type, params) {
		var pageOffset = params.offset, pageLimit = params.limit;

		transaction.subscribe(type, &#x27;query&#x27;, function(resource, query) {
			query.skip(pageOffset).limit(pageLimit);
		});

		transaction.subscribe(type, &#x27;end&#x27;, function(resource) {
			var selfLink = req.originalUrl;
			var response = transaction.response;
			var count = response.meta[&#x27;count&#x27;];
			response.links[&#x27;first&#x27;] = common.modifyQuery(selfLink, { page: {
				offset: 0
			}});
			response.links[&#x27;last&#x27;] = common.modifyQuery(selfLink, { page: {
				offset: count - pageLimit
			}});
			if (pageOffset &#x3e; 0) {
				response.links[&#x27;prev&#x27;] = common.modifyQuery(selfLink, { page: {
					offset: (pageOffset - pageLimit &#x3c; 0) ? 0 : pageOffset - pageLimit
				}});
			}
			if ((pageOffset + pageLimit) &#x3c; count) {
				response.links[&#x27;next&#x27;] = common.modifyQuery(selfLink, { page: {
					offset: pageOffset + pageLimit
				}});
			}
		});
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

var defaultOpts = {
	strict: false,
	filters: [
		filters.sort(),
		filters.filter(),
		filters.select(),
		filters.<span class="apidocCodeKeywordSpan">paginateOffset</span>(),
	],
};

function enumerate(chain, opts) {
	opts = _.defaults({}, opts, defaultOpts);
	chain = common.parseChain(chain);
	var lastLink = chain.pop();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.param" id="apidoc.element.jsonapify.param">
        function <span class="apidocSignatureSpan">jsonapify.</span>param
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function param(name) {
	return function(req, parent) {
		return req.params[name];
	};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
## Middleware and resource addressing

Everything in REST is a resource. Resources can have subresources, too. That means that you can apply a READ operation (GET verb
 in REST terms) to a subresource. Let&#x27;s see how resource addressing works in jsonapify.

* Resource chains come in the form of **\[\(typename, \[selector\]\)+\]**.
* Resource chain selectors are applied at request-time, and are used to select a subset of objects of the preceeding resource type
.
* At this moment, selectors can get info from:
    - Request params: `jsonapify.<span class="apidocCodeKeywordSpan">param</span>(...)`
    - Request query params: `jsonapify.query(...)`
    - Resource parent object: `jsonapify.parent(...)`
* There are **partial** and **full** resource chains. A *full resource chain* maps to a single resource object, whereas a *partial
 resource chain* maps to a subset of resource objects. The same chain can be considered *full* or *partial* depending on the middleware
 (*partial* for enumerate, and *full* for create, read, update and the like).
* Some jsonapify operations require full resource chains (ie: *READ*, *UPDATE*,...), while others require partial resource chains
 (only *CREATE* at this moment). Therefore, the same resource chain may be interpreted as a full or a partial one depending on the
 context.

For example, a *READ* operation with the following resource chain, directed to the URI &#x27;/groups/{group}/users/{user}&#x27;,
would retrieve a resource object of type &#x27;User&#x27;, with `group == parent._id and name == user`, where `parent` is the group
 the user logically belongs to:
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.parent" id="apidoc.element.jsonapify.parent">
        function <span class="apidocSignatureSpan">jsonapify.</span>parent
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function parent(name) {
	return function(req, parent) {
		return _.get(parent, name);
	};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Everything in REST is a resource. Resources can have subresources, too. That means that you can apply a READ operation (GET verb
 in REST terms) to a subresource. Let&#x27;s see how resource addressing works in jsonapify.

* Resource chains come in the form of **\[\(typename, \[selector\]\)+\]**.
* Resource chain selectors are applied at request-time, and are used to select a subset of objects of the preceeding resource type
.
* At this moment, selectors can get info from:
    - Request params: `jsonapify.param(...)`
    - Request query params: `jsonapify.query(...)`
    - Resource parent object: `jsonapify.<span class="apidocCodeKeywordSpan">parent</span>(...)`
* There are **partial** and **full** resource chains. A *full resource chain* maps to a single resource object, whereas a *partial
 resource chain* maps to a subset of resource objects. The same chain can be considered *full* or *partial* depending on the middleware
 (*partial* for enumerate, and *full* for create, read, update and the like).
* Some jsonapify operations require full resource chains (ie: *READ*, *UPDATE*,...), while others require partial resource chains
 (only *CREATE* at this moment). Therefore, the same resource chain may be interpreted as a full or a partial one depending on the
 context.

For example, a *READ* operation with the following resource chain, directed to the URI &#x27;/groups/{group}/users/{user}&#x27;,
would retrieve a resource object of type &#x27;User&#x27;, with `group == parent._id and name == user`, where `parent` is the group
 the user logically belongs to:

```js
/* full chain */ [
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.query" id="apidoc.element.jsonapify.query">
        function <span class="apidocSignatureSpan">jsonapify.</span>query
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function query(name) {
	return function(req, parent) {
		return req.query[name];
	};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Everything in REST is a resource. Resources can have subresources, too. That means that you can apply a READ operation (GET verb
 in REST terms) to a subresource. Let&#x27;s see how resource addressing works in jsonapify.

* Resource chains come in the form of **\[\(typename, \[selector\]\)+\]**.
* Resource chain selectors are applied at request-time, and are used to select a subset of objects of the preceeding resource type
.
* At this moment, selectors can get info from:
    - Request params: `jsonapify.param(...)`
    - Request query params: `jsonapify.<span class="apidocCodeKeywordSpan">query</span>(...)`
    - Resource parent object: `jsonapify.parent(...)`
* There are **partial** and **full** resource chains. A *full resource chain* maps to a single resource object, whereas a *partial
 resource chain* maps to a subset of resource objects. The same chain can be considered *full* or *partial* depending on the middleware
 (*partial* for enumerate, and *full* for create, read, update and the like).
* Some jsonapify operations require full resource chains (ie: *READ*, *UPDATE*,...), while others require partial resource chains
 (only *CREATE* at this moment). Therefore, the same resource chain may be interpreted as a full or a partial one depending on the
 context.

For example, a *READ* operation with the following resource chain, directed to the URI &#x27;/groups/{group}/users/{user}&#x27;,
would retrieve a resource object of type &#x27;User&#x27;, with `group == parent._id and name == user`, where `parent` is the group
 the user logically belongs to:

```js
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.read" id="apidoc.element.jsonapify.read">
        function <span class="apidocSignatureSpan">jsonapify.</span>read
        <span class="apidocSignatureSpan">(chain, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function read(chain, opts) {
	opts = _.defaults({}, opts, defaultOpts);
	chain = common.parseChain(chain);
	return middleware;

	function middleware(req, res, next) {
		var lastLink = _.last(chain);
		var resource = lastLink.resource;
		var transaction = common.initTransaction(resource, res);
		_.each(opts.filters, function(filter) { filter(transaction) });
		transaction.notify(resource, &#x27;start&#x27;, req);
		async.waterfall([
			function(next) {
				common.applyChain(transaction, chain, req, next);
			},
			function(object, next) {
				var resview = resource.view(transaction);
				resview.serialize(object, next);
			},
		], function(err, resdata) {
			if (err) return next(err);
			var response = transaction.response;
			response.links.self = req.originalUrl;
			response.data = resdata;
			transaction.notify(resource, &#x27;end&#x27;);
			response.send();
			next();
		});
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.remove" id="apidoc.element.jsonapify.remove">
        function <span class="apidocSignatureSpan">jsonapify.</span>remove
        <span class="apidocSignatureSpan">(chain, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function remove(chain, opts) {
	opts = _.defaults({}, opts, defaultOpts);
	chain = common.parseChain(chain);
	return middleware;

	function middleware(req, res, next) {
		var resource = _.last(chain).resource;
		var transaction = common.initTransaction(resource, res);
		_.each(opts.filters, function(filter) { filter(transaction) });
		transaction.notify(resource, &#x27;start&#x27;, req);
		common.applyChain(transaction, chain, req, function(err, object) {
			if (err) return next(err);
			var response = transaction.response;
			if (opts.noWait) {
				response.raw.statusCode = 202;
				transaction.notify(resource, &#x27;end&#x27;);
				response.send(null);
				object.remove(next);
			} else {
				object.remove(function(err) {
					if (err) return next(err);
					response.raw.statusCode = 204;
					transaction.notify(resource, &#x27;end&#x27;);
					response.send(null);
					next();
				});
			}
		});
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		common.applyChain(transaction, chain, req, function(err, object) {
			if (err) return next(err);
			var response = transaction.response;
			if (opts.noWait) {
				response.raw.statusCode = 202;
				transaction.notify(resource, &#x27;end&#x27;);
				response.send(null);
				object.<span class="apidocCodeKeywordSpan">remove</span>(next);
			} else {
				object.remove(function(err) {
					if (err) return next(err);
					response.raw.statusCode = 204;
					transaction.notify(resource, &#x27;end&#x27;);
					response.send(null);
					next();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.select" id="apidoc.element.jsonapify.select">
        function <span class="apidocSignatureSpan">jsonapify.</span>select
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function select() {
	return common.createFilter(queryParser, function(transaction, req, type, fields) {
		transaction.subscribe(type, &#x27;view&#x27;, function(resource, resview) {
			fields = [&#x27;type&#x27;, &#x27;id&#x27;].concat(fields);
			return resview.select(fields);
		});
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

var common = require(&#x27;./common&#x27;);

function select() {
	return common.createFilter(queryParser, function(transaction, req, type, fields) {
		transaction.subscribe(type, &#x27;view&#x27;, function(resource, resview) {
			fields = [&#x27;type&#x27;, &#x27;id&#x27;].concat(fields);
			return resview.<span class="apidocCodeKeywordSpan">select</span>(fields);
		});
	});
}

function queryParser(req, callback) {
	var params = req.query[&#x27;fields&#x27;];
	if (!_.isArray(params)) params = [params];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.sort" id="apidoc.element.jsonapify.sort">
        function <span class="apidocSignatureSpan">jsonapify.</span>sort
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function sort() {
	return common.createFilter(queryParser, function(transaction, req, type, fields) {
		transaction.subscribe(type, &#x27;query&#x27;, function(resview, query) {
			_.each(fields, function(field) {
				resview.visitProperties(field.name, function(property) {
					var param = _.set({}, property, field.order);
					query.sort(param);
				});
			});
		});
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

function sort() {
	return common.createFilter(queryParser, function(transaction, req, type, fields) {
		transaction.subscribe(type, &#x27;query&#x27;, function(resview, query) {
			_.each(fields, function(field) {
				resview.visitProperties(field.name, function(property) {
					var param = _.set({}, property, field.order);
					query.<span class="apidocCodeKeywordSpan">sort</span>(param);
				});
			});
		});
	});
}

function queryParser(req, callback) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.update" id="apidoc.element.jsonapify.update">
        function <span class="apidocSignatureSpan">jsonapify.</span>update
        <span class="apidocSignatureSpan">(chain, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function update(chain, opts) {
	opts = _.defaults({}, opts, defaultOpts);
	chain = common.parseChain(chain);
	return middleware;

	function middleware(req, res, next) {
		var resource = _.last(chain).resource;
		var transaction = common.initTransaction(resource, res);
		_.each(opts.filters, function(filter) { filter(transaction) });
		transaction.notify(resource, &#x27;start&#x27;, req);
		common.applyChain(transaction, chain, req, function(err, object) {
			if (err) return next(err);
			var resview = resource.view(transaction);
			resview.deserialize(req.body.data, object, function(err) {
				if (err) return next(err);
				var response = transaction.response;
				if (opts.noWait) {
					response.raw.statusCode = 202;
					transaction.notify(resource, &#x27;end&#x27;);
					response.send(null);
					object.save(next);
				} else {
					async.parallel({
						save: function(next) {
							object.save(next);
						},
						data: function(next) {
							resview.serialize(object, next);
						},
					}, function(err, results) {
						if (err) return next(err);
						response.data = results.data;
						transaction.notify(resource, &#x27;end&#x27;);
						response.send();
						next();
					});
				}
			});
		});
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>












































</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsonapify.Accessor" id="apidoc.module.jsonapify.Accessor">module jsonapify.Accessor</a></h1>


    <h2>
        <a href="#apidoc.element.jsonapify.Accessor.Accessor" id="apidoc.element.jsonapify.Accessor.Accessor">
        function <span class="apidocSignatureSpan">jsonapify.</span>Accessor
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Accessor() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsonapify.Accessor.prototype" id="apidoc.module.jsonapify.Accessor.prototype">module jsonapify.Accessor.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.jsonapify.Accessor.prototype.deserialize" id="apidoc.element.jsonapify.Accessor.prototype.deserialize">
        function <span class="apidocSignatureSpan">jsonapify.Accessor.prototype.</span>deserialize
        <span class="apidocSignatureSpan">(field, transaction, resdata, object, done)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deserialize = function (field, transaction, resdata, object, done) {
	done(null, object);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
				resview.findOne(filter, function(err, object) {
					if (err) return next(err);
					object = object || new resource.model(filter);
					next(null, object, resview);
				});
			},
			function(object, resview, next) {
				resview.<span class="apidocCodeKeywordSpan">deserialize</span>(req.body.data, object, function(err, data) {
					err ? next(err) : next(null, data, resview);
				});
			},
		], function(err, object, resview) {
			if (err) return next(err);
			var response = transaction.response;
			if (opts.noWait) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.Accessor.prototype.serialize" id="apidoc.element.jsonapify.Accessor.prototype.serialize">
        function <span class="apidocSignatureSpan">jsonapify.Accessor.prototype.</span>serialize
        <span class="apidocSignatureSpan">(field, transaction, object, done)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">serialize = function (field, transaction, object, done) {
	done(null, undefined);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
				object.save(next);
			} else {
				async.parallel({
					save: function(next) {
						object.save(next);
					},
					data: function(next) {
						resview.<span class="apidocCodeKeywordSpan">serialize</span>(object, next);
					},
				}, function(err, results) {
					if (err) return next(err);
					response.data = results.data;
					transaction.notify(resource, &#x27;end&#x27;);
					response.send();
					next();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.Accessor.prototype.visitProperties" id="apidoc.element.jsonapify.Accessor.prototype.visitProperties">
        function <span class="apidocSignatureSpan">jsonapify.Accessor.prototype.</span>visitProperties
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">visitProperties = function (callback) {}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var common = require(&#x27;./common&#x27;);

function filter() {
	return common.createFilter(queryParser, function(transaction, req, type, param) {
		var filters = parseParam(param);
		transaction.subscribe(type, &#x27;query&#x27;, function(resview, query) {
			_.each(filters, function(filter, field) {
				resview.<span class="apidocCodeKeywordSpan">visitProperties</span>(field, _.partialRight(filter, query));
			});
		});
	});
}

function queryParser(req, callback) {
	var params = req.query[&#x27;filter&#x27;];
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsonapify.ApiError" id="apidoc.module.jsonapify.ApiError">module jsonapify.ApiError</a></h1>


    <h2>
        <a href="#apidoc.element.jsonapify.ApiError.ApiError" id="apidoc.element.jsonapify.ApiError.ApiError">
        function <span class="apidocSignatureSpan">jsonapify.</span>ApiError
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ApiError(opts) {
	opts = _.defaults({}, opts, {
		meta: {},
		links: {},
		status: 500,
	});
	this._id = opts.id;
	this._code = opts.code;
	this._meta = opts.meta;
	this._links = opts.links;
	this._title = opts.title;
	this._status = opts.status;
	this._detail = opts.detail;
	this._source = opts.source;
	Error.call(this, opts.detail);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.ApiError.super_" id="apidoc.element.jsonapify.ApiError.super_">
        function <span class="apidocSignatureSpan">jsonapify.ApiError.</span>super_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Error() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsonapify.ApiError.prototype" id="apidoc.module.jsonapify.ApiError.prototype">module jsonapify.ApiError.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.jsonapify.ApiError.prototype.toJSON" id="apidoc.element.jsonapify.ApiError.prototype.toJSON">
        function <span class="apidocSignatureSpan">jsonapify.ApiError.prototype.</span>toJSON
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toJSON = function () {
	var object = {};
	object.id = this._id;
	object.code = this._code;
	object.meta = this._meta;
	object.links = this._links;
	object.title = this._title;
	object.status = this._status;
	object.detail = this._detail;
	object.source = this._source;
	return _.omit(object, _.isEmpty);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsonapify.ApiError.super_" id="apidoc.module.jsonapify.ApiError.super_">module jsonapify.ApiError.super_</a></h1>


    <h2>
        <a href="#apidoc.element.jsonapify.ApiError.super_.super_" id="apidoc.element.jsonapify.ApiError.super_.super_">
        function <span class="apidocSignatureSpan">jsonapify.ApiError.</span>super_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Error() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.ApiError.super_.captureStackTrace" id="apidoc.element.jsonapify.ApiError.super_.captureStackTrace">
        function <span class="apidocSignatureSpan">jsonapify.ApiError.super_.</span>captureStackTrace
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function captureStackTrace() { [native code] }</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsonapify.Const" id="apidoc.module.jsonapify.Const">module jsonapify.Const</a></h1>


    <h2>
        <a href="#apidoc.element.jsonapify.Const.Const" id="apidoc.element.jsonapify.Const.Const">
        function <span class="apidocSignatureSpan">jsonapify.</span>Const
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Const(value) {
	this._value = value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.Const.super_" id="apidoc.element.jsonapify.Const.super_">
        function <span class="apidocSignatureSpan">jsonapify.Const.</span>super_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Accessor() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsonapify.Const.prototype" id="apidoc.module.jsonapify.Const.prototype">module jsonapify.Const.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.jsonapify.Const.prototype.deserialize" id="apidoc.element.jsonapify.Const.prototype.deserialize">
        function <span class="apidocSignatureSpan">jsonapify.Const.prototype.</span>deserialize
        <span class="apidocSignatureSpan">(field, transaction, resdata, object, done)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deserialize = function (field, transaction, resdata, object, done) {
	if (resdata !== this._value) {
		var opts = { meta: { expected: this._value }};
		var err = new InvalidFieldValue(field, resdata, opts);
		return done(err);
	}
	done(null, object);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
				resview.findOne(filter, function(err, object) {
					if (err) return next(err);
					object = object || new resource.model(filter);
					next(null, object, resview);
				});
			},
			function(object, resview, next) {
				resview.<span class="apidocCodeKeywordSpan">deserialize</span>(req.body.data, object, function(err, data) {
					err ? next(err) : next(null, data, resview);
				});
			},
		], function(err, object, resview) {
			if (err) return next(err);
			var response = transaction.response;
			if (opts.noWait) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.Const.prototype.serialize" id="apidoc.element.jsonapify.Const.prototype.serialize">
        function <span class="apidocSignatureSpan">jsonapify.Const.prototype.</span>serialize
        <span class="apidocSignatureSpan">(field, transaction, object, done)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">serialize = function (field, transaction, object, done) {
	done(null, this._value);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
				object.save(next);
			} else {
				async.parallel({
					save: function(next) {
						object.save(next);
					},
					data: function(next) {
						resview.<span class="apidocCodeKeywordSpan">serialize</span>(object, next);
					},
				}, function(err, results) {
					if (err) return next(err);
					response.data = results.data;
					transaction.notify(resource, &#x27;end&#x27;);
					response.send();
					next();
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsonapify.Field" id="apidoc.module.jsonapify.Field">module jsonapify.Field</a></h1>


    <h2>
        <a href="#apidoc.element.jsonapify.Field.Field" id="apidoc.element.jsonapify.Field.Field">
        function <span class="apidocSignatureSpan">jsonapify.</span>Field
        <span class="apidocSignatureSpan">(resource, name, value, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Field(resource, name, value, opts) {
	opts = _.defaults({}, opts, {
		readable: true,
		writable: true,
		nullable: false,
	});
	this._name = name;
	this._resource = resource;
	this._accessor = toAccessor(value);
	this._readable = opts.readable;
	this._writable = opts.writable;
	this._nullable = opts.nullable;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsonapify.Field.prototype" id="apidoc.module.jsonapify.Field.prototype">module jsonapify.Field.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.jsonapify.Field.prototype.deserialize" id="apidoc.element.jsonapify.Field.prototype.deserialize">
        function <span class="apidocSignatureSpan">jsonapify.Field.prototype.</span>deserialize
        <span class="apidocSignatureSpan">(transaction, resdata, object, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deserialize = function (transaction, resdata, object, callback) {
	if (!this._writable) return callback(null, object);
	if (_.isUndefined(resdata)) {
		return this._nullable
			? callback(null, object)
			: callback(new InvalidFieldValue(this, undefined));
	}
	this._accessor.deserialize(this, transaction, resdata, object, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
				resview.findOne(filter, function(err, object) {
					if (err) return next(err);
					object = object || new resource.model(filter);
					next(null, object, resview);
				});
			},
			function(object, resview, next) {
				resview.<span class="apidocCodeKeywordSpan">deserialize</span>(req.body.data, object, function(err, data) {
					err ? next(err) : next(null, data, resview);
				});
			},
		], function(err, object, resview) {
			if (err) return next(err);
			var response = transaction.response;
			if (opts.noWait) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.Field.prototype.serialize" id="apidoc.element.jsonapify.Field.prototype.serialize">
        function <span class="apidocSignatureSpan">jsonapify.Field.prototype.</span>serialize
        <span class="apidocSignatureSpan">(transaction, object, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">serialize = function (transaction, object, callback) {
	var self = this;
	if (!this._readable) return callback(null);
	this._accessor.serialize(this, transaction, object, function(err, value) {
		if (err) return callback(err);
		if (_.isUndefined(value) &#x26;&#x26; !self._nullable)
			return callback(new InvalidFieldValue(self, undefined));
		return callback(null, value);
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
				object.save(next);
			} else {
				async.parallel({
					save: function(next) {
						object.save(next);
					},
					data: function(next) {
						resview.<span class="apidocCodeKeywordSpan">serialize</span>(object, next);
					},
				}, function(err, results) {
					if (err) return next(err);
					response.data = results.data;
					transaction.notify(resource, &#x27;end&#x27;);
					response.send();
					next();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.Field.prototype.visitProperties" id="apidoc.element.jsonapify.Field.prototype.visitProperties">
        function <span class="apidocSignatureSpan">jsonapify.Field.prototype.</span>visitProperties
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">visitProperties = function (callback) {
	this._accessor.visitProperties(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var common = require(&#x27;./common&#x27;);

function filter() {
	return common.createFilter(queryParser, function(transaction, req, type, param) {
		var filters = parseParam(param);
		transaction.subscribe(type, &#x27;query&#x27;, function(resview, query) {
			_.each(filters, function(filter, field) {
				resview.<span class="apidocCodeKeywordSpan">visitProperties</span>(field, _.partialRight(filter, query));
			});
		});
	});
}

function queryParser(req, callback) {
	var params = req.query[&#x27;filter&#x27;];
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsonapify.HttpError" id="apidoc.module.jsonapify.HttpError">module jsonapify.HttpError</a></h1>


    <h2>
        <a href="#apidoc.element.jsonapify.HttpError.HttpError" id="apidoc.element.jsonapify.HttpError.HttpError">
        function <span class="apidocSignatureSpan">jsonapify.</span>HttpError
        <span class="apidocSignatureSpan">(status, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function HttpError(status, opts) {
	opts = opts || {};
	opts.status = status;
	opts.detail = http.STATUS_CODES[status];
	ApiError.call(this, opts);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.HttpError.super_" id="apidoc.element.jsonapify.HttpError.super_">
        function <span class="apidocSignatureSpan">jsonapify.HttpError.</span>super_
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ApiError(opts) {
	opts = _.defaults({}, opts, {
		meta: {},
		links: {},
		status: 500,
	});
	this._id = opts.id;
	this._code = opts.code;
	this._meta = opts.meta;
	this._links = opts.links;
	this._title = opts.title;
	this._status = opts.status;
	this._detail = opts.detail;
	this._source = opts.source;
	Error.call(this, opts.detail);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsonapify.InvalidFieldValue" id="apidoc.module.jsonapify.InvalidFieldValue">module jsonapify.InvalidFieldValue</a></h1>


    <h2>
        <a href="#apidoc.element.jsonapify.InvalidFieldValue.InvalidFieldValue" id="apidoc.element.jsonapify.InvalidFieldValue.InvalidFieldValue">
        function <span class="apidocSignatureSpan">jsonapify.</span>InvalidFieldValue
        <span class="apidocSignatureSpan">(field, value, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function InvalidFieldValue(field, value, opts) {
	opts = opts || {};
	opts.status = 422;
	opts.detail = &#x27;Invalid Field Value&#x27;;
	ApiError.call(this, opts);
	this._field = field;
	this._value = value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.InvalidFieldValue.super_" id="apidoc.element.jsonapify.InvalidFieldValue.super_">
        function <span class="apidocSignatureSpan">jsonapify.InvalidFieldValue.</span>super_
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ApiError(opts) {
	opts = _.defaults({}, opts, {
		meta: {},
		links: {},
		status: 500,
	});
	this._id = opts.id;
	this._code = opts.code;
	this._meta = opts.meta;
	this._links = opts.links;
	this._title = opts.title;
	this._status = opts.status;
	this._detail = opts.detail;
	this._source = opts.source;
	Error.call(this, opts.detail);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsonapify.Link" id="apidoc.module.jsonapify.Link">module jsonapify.Link</a></h1>


    <h2>
        <a href="#apidoc.element.jsonapify.Link.Link" id="apidoc.element.jsonapify.Link.Link">
        function <span class="apidocSignatureSpan">jsonapify.</span>Link
        <span class="apidocSignatureSpan">(href, meta)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Link(href, meta) {
	if (_.isPlainObject(href) &#x26;&#x26; !meta) {
		var link = href;
		href = link.href;
		meta = link.meta;
	}
	this._href = href || &#x27;&#x27;;
	this._meta = meta || {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsonapify.Link.prototype" id="apidoc.module.jsonapify.Link.prototype">module jsonapify.Link.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.jsonapify.Link.prototype.toJSON" id="apidoc.element.jsonapify.Link.prototype.toJSON">
        function <span class="apidocSignatureSpan">jsonapify.Link.prototype.</span>toJSON
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toJSON = function () {
	if (_.isEmpty(this._meta))
		return this._href;
	return {
		href: this._href,
		meta: this._meta,
	};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsonapify.Property" id="apidoc.module.jsonapify.Property">module jsonapify.Property</a></h1>


    <h2>
        <a href="#apidoc.element.jsonapify.Property.Property" id="apidoc.element.jsonapify.Property.Property">
        function <span class="apidocSignatureSpan">jsonapify.</span>Property
        <span class="apidocSignatureSpan">(path)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Property(path) {
	this._path = path;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
jsonapify detaches mongoose models from the actual representation of the resources. This allows for a lot of flexibility: as a matter
 of fact, declaring a non-readable field is this elegant:

```js
var User = require(&#x27;../models/User&#x27;);

var userResource = new jsonapify.Resource(User, {
	type: &#x27;users&#x27;,
	id: new jsonapify.<span class="apidocCodeKeywordSpan">Property</span>(&#x27;_id&#x27;),
	attributes: {
		email: new jsonapify.Property(&#x27;email&#x27;),
		password: {
			value: new jsonapify.Property(&#x27;password&#x27;),
			readable: false,
		},
	},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.Property.super_" id="apidoc.element.jsonapify.Property.super_">
        function <span class="apidocSignatureSpan">jsonapify.Property.</span>super_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Accessor() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsonapify.Property.prototype" id="apidoc.module.jsonapify.Property.prototype">module jsonapify.Property.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.jsonapify.Property.prototype.deserialize" id="apidoc.element.jsonapify.Property.prototype.deserialize">
        function <span class="apidocSignatureSpan">jsonapify.Property.prototype.</span>deserialize
        <span class="apidocSignatureSpan">(field, transaction, resdata, object, done)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deserialize = function (field, transaction, resdata, object, done) {
	_.set(object, this._path, resdata);
	done(null, object);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
				resview.findOne(filter, function(err, object) {
					if (err) return next(err);
					object = object || new resource.model(filter);
					next(null, object, resview);
				});
			},
			function(object, resview, next) {
				resview.<span class="apidocCodeKeywordSpan">deserialize</span>(req.body.data, object, function(err, data) {
					err ? next(err) : next(null, data, resview);
				});
			},
		], function(err, object, resview) {
			if (err) return next(err);
			var response = transaction.response;
			if (opts.noWait) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.Property.prototype.serialize" id="apidoc.element.jsonapify.Property.prototype.serialize">
        function <span class="apidocSignatureSpan">jsonapify.Property.prototype.</span>serialize
        <span class="apidocSignatureSpan">(field, transaction, object, done)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">serialize = function (field, transaction, object, done) {
	var value = _.get(object, this._path);
	done(null, value);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
				object.save(next);
			} else {
				async.parallel({
					save: function(next) {
						object.save(next);
					},
					data: function(next) {
						resview.<span class="apidocCodeKeywordSpan">serialize</span>(object, next);
					},
				}, function(err, results) {
					if (err) return next(err);
					response.data = results.data;
					transaction.notify(resource, &#x27;end&#x27;);
					response.send();
					next();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.Property.prototype.visitProperties" id="apidoc.element.jsonapify.Property.prototype.visitProperties">
        function <span class="apidocSignatureSpan">jsonapify.Property.prototype.</span>visitProperties
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">visitProperties = function (callback) {
	callback(this._path);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var common = require(&#x27;./common&#x27;);

function filter() {
	return common.createFilter(queryParser, function(transaction, req, type, param) {
		var filters = parseParam(param);
		transaction.subscribe(type, &#x27;query&#x27;, function(resview, query) {
			_.each(filters, function(filter, field) {
				resview.<span class="apidocCodeKeywordSpan">visitProperties</span>(field, _.partialRight(filter, query));
			});
		});
	});
}

function queryParser(req, callback) {
	var params = req.query[&#x27;filter&#x27;];
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsonapify.Ref" id="apidoc.module.jsonapify.Ref">module jsonapify.Ref</a></h1>


    <h2>
        <a href="#apidoc.element.jsonapify.Ref.Ref" id="apidoc.element.jsonapify.Ref.Ref">
        function <span class="apidocSignatureSpan">jsonapify.</span>Ref
        <span class="apidocSignatureSpan">(resourceName, thisPath, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Ref(resourceName, thisPath, opts) {
	opts = opts || {};
	this._resourceName = resourceName;
	this._thisPath = thisPath;
	this._links = opts.links;
	this._meta = opts.meta;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var User = require(&#x27;../models/User&#x27;);
var roleResource = require(&#x27;./roles&#x27;).resource;

var userResource = new jsonapify.Resource(User, {
	type: &#x27;users&#x27;,
	id: new jsonapify.Property(&#x27;_id&#x27;),
	relationships: {
		role: new jsonapify.<span class="apidocCodeKeywordSpan">Ref</span>(&#x27;Role&#x27;, &#x27;role&#x27;),
	},
});

jsonapify.Runtime.addResource(&#x27;User&#x27;, userResource);
```

**Note**: **_related resources_ are not _subresources_**. Subresources are resource-like objects so tightly linked to their parent
 resource that they can&#x27;t exist on their own. jsonapify does not support access of related resources as subresources. This
is by-design.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.Ref.super_" id="apidoc.element.jsonapify.Ref.super_">
        function <span class="apidocSignatureSpan">jsonapify.Ref.</span>super_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Accessor() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsonapify.Ref.prototype" id="apidoc.module.jsonapify.Ref.prototype">module jsonapify.Ref.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.jsonapify.Ref.prototype.deserialize" id="apidoc.element.jsonapify.Ref.prototype.deserialize">
        function <span class="apidocSignatureSpan">jsonapify.Ref.prototype.</span>deserialize
        <span class="apidocSignatureSpan">(field, transaction, resdata, object, done)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deserialize = function (field, transaction, resdata, object, done) {
	if (!_.isPlainObject(resdata)) return done(new InvalidFieldValue(field, resdata));
	var target = Runtime.getResource(this._resourceName);
	if (resdata.type !== target.type || !ObjectId.isValid(resdata.id))
		return done(new InvalidFieldValue(field, resdata));
	_.set(object, this._thisPath, new ObjectId(resdata.id));
	done(null, object);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
				resview.findOne(filter, function(err, object) {
					if (err) return next(err);
					object = object || new resource.model(filter);
					next(null, object, resview);
				});
			},
			function(object, resview, next) {
				resview.<span class="apidocCodeKeywordSpan">deserialize</span>(req.body.data, object, function(err, data) {
					err ? next(err) : next(null, data, resview);
				});
			},
		], function(err, object, resview) {
			if (err) return next(err);
			var response = transaction.response;
			if (opts.noWait) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.Ref.prototype.serialize" id="apidoc.element.jsonapify.Ref.prototype.serialize">
        function <span class="apidocSignatureSpan">jsonapify.Ref.prototype.</span>serialize
        <span class="apidocSignatureSpan">(field, transaction, object, done)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">serialize = function (field, transaction, object, done) {
	var self = this;
	var id = _.get(object, this._thisPath);
	if (_.isUndefined(id)) return done(null);
	var resource = Runtime.getResource(this._resourceName);
	var response = transaction.response;
	var resview = resource.view(transaction);
	resview.findOne({ _id: id }, function(err, linked) {
		if (err) return done(err);
		if (!linked) return done(new ResourceNotFound(resource, { _id: id }));
		resview.serialize(linked, function(err, linkedData) {
			if (err) return done(err);
			var resdata = _.pick(linkedData, &#x27;type&#x27;, &#x27;id&#x27;);
			var isIncluded = transaction.transform(field.resource, &#x27;include&#x27;, field.name, true);
			if (isIncluded)
				response.include(resdata.type, resdata.id, linkedData);
			if (self._meta) resdata.meta = self._meta;
			if (self._links) resdata.links = self._links;
			done(null, resdata);
		});
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
				object.save(next);
			} else {
				async.parallel({
					save: function(next) {
						object.save(next);
					},
					data: function(next) {
						resview.<span class="apidocCodeKeywordSpan">serialize</span>(object, next);
					},
				}, function(err, results) {
					if (err) return next(err);
					response.data = results.data;
					transaction.notify(resource, &#x27;end&#x27;);
					response.send();
					next();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.Ref.prototype.visitProperties" id="apidoc.element.jsonapify.Ref.prototype.visitProperties">
        function <span class="apidocSignatureSpan">jsonapify.Ref.prototype.</span>visitProperties
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">visitProperties = function (callback) {
	callback(this._thisPath);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var common = require(&#x27;./common&#x27;);

function filter() {
	return common.createFilter(queryParser, function(transaction, req, type, param) {
		var filters = parseParam(param);
		transaction.subscribe(type, &#x27;query&#x27;, function(resview, query) {
			_.each(filters, function(filter, field) {
				resview.<span class="apidocCodeKeywordSpan">visitProperties</span>(field, _.partialRight(filter, query));
			});
		});
	});
}

function queryParser(req, callback) {
	var params = req.query[&#x27;filter&#x27;];
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsonapify.Refs" id="apidoc.module.jsonapify.Refs">module jsonapify.Refs</a></h1>


    <h2>
        <a href="#apidoc.element.jsonapify.Refs.Refs" id="apidoc.element.jsonapify.Refs.Refs">
        function <span class="apidocSignatureSpan">jsonapify.</span>Refs
        <span class="apidocSignatureSpan">(resourceName, thisPath, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Refs(resourceName, thisPath, opts) {
	opts = opts || {};
	this._resourceName = resourceName;
	this._thisPath = thisPath;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.Refs.super_" id="apidoc.element.jsonapify.Refs.super_">
        function <span class="apidocSignatureSpan">jsonapify.Refs.</span>super_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Accessor() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsonapify.Refs.prototype" id="apidoc.module.jsonapify.Refs.prototype">module jsonapify.Refs.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.jsonapify.Refs.prototype.accessProperties" id="apidoc.element.jsonapify.Refs.prototype.accessProperties">
        function <span class="apidocSignatureSpan">jsonapify.Refs.prototype.</span>accessProperties
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">accessProperties = function (callback) {
	callback(this._thisPath);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.Refs.prototype.deserialize" id="apidoc.element.jsonapify.Refs.prototype.deserialize">
        function <span class="apidocSignatureSpan">jsonapify.Refs.prototype.</span>deserialize
        <span class="apidocSignatureSpan">(field, transaction, resdata, object, done)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deserialize = function (field, transaction, resdata, object, done) {
	if (!_.isArray(resdata))
		return done(new InvalidFieldValue(field, resdata));
	var self = this;
	var links = [];
	var target = Runtime.getResource(self._resourceName);
	_.set(object, this._thisPath, links);
	_.each(resdata, function(link, index) {
		if (link.type !== target.type || !ObjectId.isValid(link.id)) {
			var opts = { meta: { index: index }};
			var err = new InvalidFieldValue(field, resdata, opts);
			return done(err);
		}
		var id = new ObjectId(link.id);
		links.push(id);
	});
	done(null, object);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
				resview.findOne(filter, function(err, object) {
					if (err) return next(err);
					object = object || new resource.model(filter);
					next(null, object, resview);
				});
			},
			function(object, resview, next) {
				resview.<span class="apidocCodeKeywordSpan">deserialize</span>(req.body.data, object, function(err, data) {
					err ? next(err) : next(null, data, resview);
				});
			},
		], function(err, object, resview) {
			if (err) return next(err);
			var response = transaction.response;
			if (opts.noWait) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.Refs.prototype.serialize" id="apidoc.element.jsonapify.Refs.prototype.serialize">
        function <span class="apidocSignatureSpan">jsonapify.Refs.prototype.</span>serialize
        <span class="apidocSignatureSpan">(field, transaction, object, done)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">serialize = function (field, transaction, object, done) {
	var self = this;
	var ids = _.get(object, this._thisPath);
	if (_.isUndefined(ids)) return done(null);
	var resource = Runtime.getResource(this._resourceName);
	var response = transaction.response;
	var resview = resource.view(transaction);
	var isIncluded = transaction.transform(field.resource, &#x27;include&#x27;, field.name, true);
	async.map(ids, function(id, next) {
		resview.findOne({ _id: id }, function(err, linked) {
			if (err) return next(err);
			if (!linked) return new ResourceNotFound(resource, { _id: id });
			resview.serialize(linked, function(err, linkedData) {
				if (err) return next(err);
				var link = _.pick(linkedData, &#x27;type&#x27;, &#x27;id&#x27;);
				if (isIncluded)
					response.include(link.type, link.id, linkedData);
				next(null, link);
			});
		});
	}, function(err, links) {
		err ? done(err) : done(null, links);
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
				object.save(next);
			} else {
				async.parallel({
					save: function(next) {
						object.save(next);
					},
					data: function(next) {
						resview.<span class="apidocCodeKeywordSpan">serialize</span>(object, next);
					},
				}, function(err, results) {
					if (err) return next(err);
					response.data = results.data;
					transaction.notify(resource, &#x27;end&#x27;);
					response.send();
					next();
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsonapify.Resource" id="apidoc.module.jsonapify.Resource">module jsonapify.Resource</a></h1>


    <h2>
        <a href="#apidoc.element.jsonapify.Resource.Resource" id="apidoc.element.jsonapify.Resource.Resource">
        function <span class="apidocSignatureSpan">jsonapify.</span>Resource
        <span class="apidocSignatureSpan">(model, descriptor, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Resource(model, descriptor, opts) {
	if (!descriptor &#x26;&#x26; _.isPlainObject(model)) {
		descriptor = model;
		model = undefined;
	}
	this._model = model;
	this._type = descriptor.type;
	this._fields = extractFields(this, descriptor);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
## Declaring resources

jsonapify detaches mongoose models from the actual representation of the resources. This allows for a lot of flexibility: as a matter
 of fact, declaring a non-readable field is this elegant:

```js
var User = require(&#x27;../models/User&#x27;);

var userResource = new jsonapify.<span class="apidocCodeKeywordSpan">Resource</span>(User, {
	type: &#x27;users&#x27;,
	id: new jsonapify.Property(&#x27;_id&#x27;),
	attributes: {
		email: new jsonapify.Property(&#x27;email&#x27;),
		password: {
			value: new jsonapify.Property(&#x27;password&#x27;),
			readable: false,
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsonapify.Resource.prototype" id="apidoc.module.jsonapify.Resource.prototype">module jsonapify.Resource.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.jsonapify.Resource.prototype.view" id="apidoc.element.jsonapify.Resource.prototype.view">
        function <span class="apidocSignatureSpan">jsonapify.Resource.prototype.</span>view
        <span class="apidocSignatureSpan">(transaction)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">view = function (transaction) {
	var resview = new ResourceView(transaction, this, this._fields);
	return transaction.transform(this, &#x27;view&#x27;, resview);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		transaction.notify(resource, &#x27;start&#x27;, req);
		async.waterfall([
			function(next) {
				common.applyChain(transaction, chain, req, next);
			},
			function(parent, next) {
				var selector = lastLink.selector;
				var resview = resource.<span class="apidocCodeKeywordSpan">view</span>(transaction);
				var filter = common.resolveSelector(selector, req, parent);
				resview.findOne(filter, function(err, object) {
					if (err) return next(err);
					object = object || new resource.model(filter);
					next(null, object, resview);
				});
			},
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsonapify.ResourceNotFound" id="apidoc.module.jsonapify.ResourceNotFound">module jsonapify.ResourceNotFound</a></h1>


    <h2>
        <a href="#apidoc.element.jsonapify.ResourceNotFound.ResourceNotFound" id="apidoc.element.jsonapify.ResourceNotFound.ResourceNotFound">
        function <span class="apidocSignatureSpan">jsonapify.</span>ResourceNotFound
        <span class="apidocSignatureSpan">(resource, anchor, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ResourceNotFound(resource, anchor, opts) {
	opts = opts || {};
	opts.status = 404;
	opts.detail = &#x27;Resource Not Found&#x27;;
	ApiError.call(this, opts);
	this._resource = resource;
	this._anchor = anchor;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.ResourceNotFound.super_" id="apidoc.element.jsonapify.ResourceNotFound.super_">
        function <span class="apidocSignatureSpan">jsonapify.ResourceNotFound.</span>super_
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ApiError(opts) {
	opts = _.defaults({}, opts, {
		meta: {},
		links: {},
		status: 500,
	});
	this._id = opts.id;
	this._code = opts.code;
	this._meta = opts.meta;
	this._links = opts.links;
	this._title = opts.title;
	this._status = opts.status;
	this._detail = opts.detail;
	this._source = opts.source;
	Error.call(this, opts.detail);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsonapify.ResourceView" id="apidoc.module.jsonapify.ResourceView">module jsonapify.ResourceView</a></h1>


    <h2>
        <a href="#apidoc.element.jsonapify.ResourceView.ResourceView" id="apidoc.element.jsonapify.ResourceView.ResourceView">
        function <span class="apidocSignatureSpan">jsonapify.</span>ResourceView
        <span class="apidocSignatureSpan">(transaction, resource, fields)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ResourceView(transaction, resource, fields) {
	if (transaction instanceof ResourceView) {
		var resview = transaction;
		copyFrom(this, resview);
		if (_.isPlainObject(resource)) {
			var opts = resource;
			applyOptions(this, opts);
		}
	} else {
		this._root = this;
		this._transaction = transaction;
		this._resource = resource;
		setFields(this, fields);
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsonapify.ResourceView.prototype" id="apidoc.module.jsonapify.ResourceView.prototype">module jsonapify.ResourceView.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.jsonapify.ResourceView.prototype.deserialize" id="apidoc.element.jsonapify.ResourceView.prototype.deserialize">
        function <span class="apidocSignatureSpan">jsonapify.ResourceView.prototype.</span>deserialize
        <span class="apidocSignatureSpan">(resdata, object, done)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deserialize = function (resdata, object, done) {
	var self = this;
	async.each(this._writableFields, function(field, next) {
		var value = _.get(resdata, field.name);
		field.deserialize(self._transaction, value, object, next);
	}, function(err) {
		err ? done(err) : done(null, object);
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
				resview.findOne(filter, function(err, object) {
					if (err) return next(err);
					object = object || new resource.model(filter);
					next(null, object, resview);
				});
			},
			function(object, resview, next) {
				resview.<span class="apidocCodeKeywordSpan">deserialize</span>(req.body.data, object, function(err, data) {
					err ? next(err) : next(null, data, resview);
				});
			},
		], function(err, object, resview) {
			if (err) return next(err);
			var response = transaction.response;
			if (opts.noWait) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.ResourceView.prototype.field" id="apidoc.element.jsonapify.ResourceView.prototype.field">
        function <span class="apidocSignatureSpan">jsonapify.ResourceView.prototype.</span>field
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">field = function (name) {
	var self = this;
	var field = this._fields[name];
	if (field) return field;
	var knownFields = [&#x27;attributes&#x27;, &#x27;relationships&#x27;];
	_.each(knownFields, function(prefix) {
		var fullName = util.format(&#x27;%s.%s&#x27;, prefix, name);
		field = self._fields[fullName];
		if (field) return false;
	})
	return field;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.ResourceView.prototype.findMany" id="apidoc.element.jsonapify.ResourceView.prototype.findMany">
        function <span class="apidocSignatureSpan">jsonapify.ResourceView.prototype.</span>findMany
        <span class="apidocSignatureSpan">(filter, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">findMany = function (filter, callback) {
	var transaction = this._transaction;
	var query = this.model.find(filter);
	querySelectFields(query, this._fields);
	transaction.notify(this, &#x27;query&#x27;, query);
	if (!callback) return query;
	query.exec(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
			},
			function(parent, next) {
				var selector = lastLink.selector;
				var filter = common.resolveSelector(selector, req, parent);
				var resview = resource.view(transaction);
				async.parallel({
					data: function(next) {
						resview.<span class="apidocCodeKeywordSpan">findMany</span>(filter, function(err, objects) {
							if (err) return next(err);
							async.map(objects, function(object, next) {
								resview.serialize(object, next);
							}, next);
						});
					},
					count: function(next) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.ResourceView.prototype.findOne" id="apidoc.element.jsonapify.ResourceView.prototype.findOne">
        function <span class="apidocSignatureSpan">jsonapify.ResourceView.prototype.</span>findOne
        <span class="apidocSignatureSpan">(filter, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">findOne = function (filter, callback) {
	var transaction = this._transaction;
	var query = this.model.findOne(filter);
	querySelectFields(query, this._fields);
	transaction.notify(this, &#x27;query&#x27;, query);
	if (!callback) return query;
	query.exec(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
			function(next) {
				common.applyChain(transaction, chain, req, next);
			},
			function(parent, next) {
				var selector = lastLink.selector;
				var resview = resource.view(transaction);
				var filter = common.resolveSelector(selector, req, parent);
				resview.<span class="apidocCodeKeywordSpan">findOne</span>(filter, function(err, object) {
					if (err) return next(err);
					object = object || new resource.model(filter);
					next(null, object, resview);
				});
			},
			function(object, resview, next) {
				resview.deserialize(req.body.data, object, function(err, data) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.ResourceView.prototype.select" id="apidoc.element.jsonapify.ResourceView.prototype.select">
        function <span class="apidocSignatureSpan">jsonapify.ResourceView.prototype.</span>select
        <span class="apidocSignatureSpan">(names)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">select = function (names) {
	var self = this;
	if (!_.isArray(names)) names = [names];
	var selected = _(names).map(function(name) {
		return self.field(name);
	}).compact().uniq().value();
	return new ResourceView(this, { fields: selected });
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

var common = require(&#x27;./common&#x27;);

function select() {
	return common.createFilter(queryParser, function(transaction, req, type, fields) {
		transaction.subscribe(type, &#x27;view&#x27;, function(resource, resview) {
			fields = [&#x27;type&#x27;, &#x27;id&#x27;].concat(fields);
			return resview.<span class="apidocCodeKeywordSpan">select</span>(fields);
		});
	});
}

function queryParser(req, callback) {
	var params = req.query[&#x27;fields&#x27;];
	if (!_.isArray(params)) params = [params];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.ResourceView.prototype.serialize" id="apidoc.element.jsonapify.ResourceView.prototype.serialize">
        function <span class="apidocSignatureSpan">jsonapify.ResourceView.prototype.</span>serialize
        <span class="apidocSignatureSpan">(object, done)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">serialize = function (object, done) {
	var self = this;
	var resdata = {};
	async.each(this._readableFields, function(field, next) {
		field.serialize(self._transaction, object, function(err, value) {
			if (err) return next(err);
			_.set(resdata, field.name, value);
			next();
		});
	}, function(err) {
		err ? done(err) : done(null, resdata);
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
				object.save(next);
			} else {
				async.parallel({
					save: function(next) {
						object.save(next);
					},
					data: function(next) {
						resview.<span class="apidocCodeKeywordSpan">serialize</span>(object, next);
					},
				}, function(err, results) {
					if (err) return next(err);
					response.data = results.data;
					transaction.notify(resource, &#x27;end&#x27;);
					response.send();
					next();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.ResourceView.prototype.visitProperties" id="apidoc.element.jsonapify.ResourceView.prototype.visitProperties">
        function <span class="apidocSignatureSpan">jsonapify.ResourceView.prototype.</span>visitProperties
        <span class="apidocSignatureSpan">(name, callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">visitProperties = function (name, callback) {
	var field = this.field(name);
	if (field) field.visitProperties(callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var common = require(&#x27;./common&#x27;);

function filter() {
	return common.createFilter(queryParser, function(transaction, req, type, param) {
		var filters = parseParam(param);
		transaction.subscribe(type, &#x27;query&#x27;, function(resview, query) {
			_.each(filters, function(filter, field) {
				resview.<span class="apidocCodeKeywordSpan">visitProperties</span>(field, _.partialRight(filter, query));
			});
		});
	});
}

function queryParser(req, callback) {
	var params = req.query[&#x27;filter&#x27;];
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsonapify.Response" id="apidoc.module.jsonapify.Response">module jsonapify.Response</a></h1>


    <h2>
        <a href="#apidoc.element.jsonapify.Response.Response" id="apidoc.element.jsonapify.Response.Response">
        function <span class="apidocSignatureSpan">jsonapify.</span>Response
        <span class="apidocSignatureSpan">(res)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Response(res) {
	this._res = res;
	this._meta = {};
	this._links = {};
	this._errors = [];
	this._included = [];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsonapify.Response.prototype" id="apidoc.module.jsonapify.Response.prototype">module jsonapify.Response.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.jsonapify.Response.prototype.error" id="apidoc.element.jsonapify.Response.prototype.error">
        function <span class="apidocSignatureSpan">jsonapify.Response.prototype.</span>error
        <span class="apidocSignatureSpan">(err)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">error = function (err) {
	this._errors.push(err);
	return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	return middleware;
	
	function middleware(err, req, res, next) {
		var transaction = common.initTransaction(null, res);
		var response = transaction.response;
		if (!(err instanceof ApiError))
			err = new UnknownError(err);
		response.<span class="apidocCodeKeywordSpan">error</span>(err);
		response.send();
	}
}

module.exports = errorHandler;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.Response.prototype.include" id="apidoc.element.jsonapify.Response.prototype.include">
        function <span class="apidocSignatureSpan">jsonapify.Response.prototype.</span>include
        <span class="apidocSignatureSpan">(type, id, data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">include = function (type, id, data) {
	var include = _.find(this._included, function(include) {
		return include.type === type &#x26;&#x26; include.id.equals(id);
	});
	if (!data) return include;
	if (!include) {
		include = {};
		this._included.push(include);
	}
	_.assign(include, data, { type: type, id: new ObjectId(id) });
	return this;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.Response.prototype.send" id="apidoc.element.jsonapify.Response.prototype.send">
        function <span class="apidocSignatureSpan">jsonapify.Response.prototype.</span>send
        <span class="apidocSignatureSpan">(data)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">send = function (data) {
	var res = this._res;
	res.contentType(&#x27;application/vnd.api+json&#x27;);
	if (!_.isEmpty(this._errors))
		res.statusCode = aproximateErrorCode(this._errors);
	if (!_.isUndefined(data)) this._data = data;
	res.json(this);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
			},
		], function(err, object, resview) {
			if (err) return next(err);
			var response = transaction.response;
			if (opts.noWait) {
				response.raw.statusCode = 202;
				transaction.notify(resource, &#x27;end&#x27;);
				response.<span class="apidocCodeKeywordSpan">send</span>(null);
				object.save(next);
			} else {
				async.parallel({
					save: function(next) {
						object.save(next);
					},
					data: function(next) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.Response.prototype.toJSON" id="apidoc.element.jsonapify.Response.prototype.toJSON">
        function <span class="apidocSignatureSpan">jsonapify.Response.prototype.</span>toJSON
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toJSON = function () {
	var object = {};
	object.meta = this._meta;
	object.links = this._links;
	object.errors = this._errors;
	object.included = this._included;
	object.jsonapi = { version: &#x27;1.0&#x27; };
	object = _.omit(object, _.isEmpty);
	if (!_.isUndefined(this._data) &#x26;&#x26; _.isEmpty(this._errors))
		object.data = this._data;
	return object;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsonapify.Template" id="apidoc.module.jsonapify.Template">module jsonapify.Template</a></h1>


    <h2>
        <a href="#apidoc.element.jsonapify.Template.Template" id="apidoc.element.jsonapify.Template.Template">
        function <span class="apidocSignatureSpan">jsonapify.</span>Template
        <span class="apidocSignatureSpan">(format)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Template(format) {
	var self = this;
	this._strings = [];
	this._values = [];
	var chunks = format.split(/\$\{([^\}]*)\}/);
	_(chunks).chunk(2).forEach(function(stringValue) {
		self._strings.push(stringValue[0]);
		if (stringValue.length &#x3e; 1)
			self._values.push(stringValue[1]);
	}).run();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var User = require(&#x27;../models/User&#x27;);

var userResource = new jsonapify.Resource(User, {
	type: &#x27;users&#x27;,
	id: new jsonapify.Property(&#x27;_id&#x27;),
	links: {
		self: {
			value: new jsonapify.<span class="apidocCodeKeywordSpan">Template</span>(&#x27;/users/${_id}&#x27;),
			writable: false,
		},
	},
});

jsonapify.Runtime.addResource(&#x27;User&#x27;, userResource);
```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.Template.super_" id="apidoc.element.jsonapify.Template.super_">
        function <span class="apidocSignatureSpan">jsonapify.Template.</span>super_
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Accessor() {}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsonapify.Template.prototype" id="apidoc.module.jsonapify.Template.prototype">module jsonapify.Template.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.jsonapify.Template.prototype.deserialize" id="apidoc.element.jsonapify.Template.prototype.deserialize">
        function <span class="apidocSignatureSpan">jsonapify.Template.prototype.</span>deserialize
        <span class="apidocSignatureSpan">(field, transaction, resdata, object, done)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deserialize = function (field, transaction, resdata, object, done) {
	if (!_.isString(resdata))
		return done(new InvalidFieldValue(field, resdata));
	done(null, object);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
				resview.findOne(filter, function(err, object) {
					if (err) return next(err);
					object = object || new resource.model(filter);
					next(null, object, resview);
				});
			},
			function(object, resview, next) {
				resview.<span class="apidocCodeKeywordSpan">deserialize</span>(req.body.data, object, function(err, data) {
					err ? next(err) : next(null, data, resview);
				});
			},
		], function(err, object, resview) {
			if (err) return next(err);
			var response = transaction.response;
			if (opts.noWait) {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.Template.prototype.serialize" id="apidoc.element.jsonapify.Template.prototype.serialize">
        function <span class="apidocSignatureSpan">jsonapify.Template.prototype.</span>serialize
        <span class="apidocSignatureSpan">(field, transaction, object, done)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">serialize = function (field, transaction, object, done) {
	var values = _.map(this._values, _.partial(_.get, object));
	if (_.any(values, _.isUndefined)) return done(null);
	var result = _(this._strings).zip(values).flatten().value().join(&#x27;&#x27;);
	done(null, result);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
				object.save(next);
			} else {
				async.parallel({
					save: function(next) {
						object.save(next);
					},
					data: function(next) {
						resview.<span class="apidocCodeKeywordSpan">serialize</span>(object, next);
					},
				}, function(err, results) {
					if (err) return next(err);
					response.data = results.data;
					transaction.notify(resource, &#x27;end&#x27;);
					response.send();
					next();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.Template.prototype.visitProperties" id="apidoc.element.jsonapify.Template.prototype.visitProperties">
        function <span class="apidocSignatureSpan">jsonapify.Template.prototype.</span>visitProperties
        <span class="apidocSignatureSpan">(callback)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">visitProperties = function (callback) {
	_.each(this._values, callback);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var common = require(&#x27;./common&#x27;);

function filter() {
	return common.createFilter(queryParser, function(transaction, req, type, param) {
		var filters = parseParam(param);
		transaction.subscribe(type, &#x27;query&#x27;, function(resview, query) {
			_.each(filters, function(filter, field) {
				resview.<span class="apidocCodeKeywordSpan">visitProperties</span>(field, _.partialRight(filter, query));
			});
		});
	});
}

function queryParser(req, callback) {
	var params = req.query[&#x27;filter&#x27;];
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsonapify.Transaction" id="apidoc.module.jsonapify.Transaction">module jsonapify.Transaction</a></h1>


    <h2>
        <a href="#apidoc.element.jsonapify.Transaction.Transaction" id="apidoc.element.jsonapify.Transaction.Transaction">
        function <span class="apidocSignatureSpan">jsonapify.</span>Transaction
        <span class="apidocSignatureSpan">(resource, response)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Transaction(resource, response) {
	this._resource = resource;
	this._response = response;
	this._handlers = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsonapify.Transaction.prototype" id="apidoc.module.jsonapify.Transaction.prototype">module jsonapify.Transaction.prototype</a></h1>


    <h2>
        <a href="#apidoc.element.jsonapify.Transaction.prototype.notify" id="apidoc.element.jsonapify.Transaction.prototype.notify">
        function <span class="apidocSignatureSpan">jsonapify.Transaction.prototype.</span>notify
        <span class="apidocSignatureSpan">(resource, what)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">notify = function (resource, what) {
	var params = _.slice(arguments, 2);
	var key = util.format(&#x27;%s.%s&#x27;, resource.type, what);
	var handlers = this._handlers[key];
	if (!handlers) return false;
	var args = [resource].concat(params);
	_.each(handlers, function(handler) {
		handler.apply(null, args);
	});
	return true;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
	var lastLink = chain.pop();
	return middleware;

	function middleware(req, res, next) {
		var resource = lastLink.resource;
		var transaction = common.initTransaction(resource, res);
		_.each(opts.filters, function(filter) { filter(transaction) });
		transaction.<span class="apidocCodeKeywordSpan">notify</span>(resource, &#x27;start&#x27;, req);
		async.waterfall([
			function(next) {
				common.applyChain(transaction, chain, req, next);
			},
			function(parent, next) {
				var selector = lastLink.selector;
				var resview = resource.view(transaction);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.Transaction.prototype.subscribe" id="apidoc.element.jsonapify.Transaction.prototype.subscribe">
        function <span class="apidocSignatureSpan">jsonapify.Transaction.prototype.</span>subscribe
        <span class="apidocSignatureSpan">(type, what, handler)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">subscribe = function (type, what, handler) {
	var key = util.format(&#x27;%s.%s&#x27;, type, what);
	var handlers = this._handlers[key];
	if (handlers) {
		handlers.push(handler);
	} else {
		handlers = [handler];
		this._handlers[key] = handlers;
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var qs = require(&#x27;qs&#x27;);

var _ = require(&#x27;lodash&#x27;);

function createFilter(queryParse, handler) {
	return function(transaction) {
		var restype = transaction.resource.type;
		transaction.<span class="apidocCodeKeywordSpan">subscribe</span>(restype, &#x27;start&#x27;, function(resource, req) {
			queryParse(req, function(type, params) {
				if (_.isUndefined(params)) {
					params = type;
					type = restype;
				}
				handler(transaction, req, type, params);
			});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.Transaction.prototype.transform" id="apidoc.element.jsonapify.Transaction.prototype.transform">
        function <span class="apidocSignatureSpan">jsonapify.Transaction.prototype.</span>transform
        <span class="apidocSignatureSpan">(resource, what)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">transform = function (resource, what) {
	var params = _.slice(arguments, 2);
	var value = params.pop();
	var key = util.format(&#x27;%s.%s&#x27;, resource.type, what);
	var handlers = this._handlers[key];
	if (!handlers) return value;
	var index = 1 + params.length;
	var args = [resource].concat(params, value);
	return _.reduce(handlers, function(value, handler) {
		var result = handler.apply(null, args);
		args.splice(index, 1, result);
		return result;
	}, value);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.Transaction.prototype.unsubscribe" id="apidoc.element.jsonapify.Transaction.prototype.unsubscribe">
        function <span class="apidocSignatureSpan">jsonapify.Transaction.prototype.</span>unsubscribe
        <span class="apidocSignatureSpan">(type, what, handler)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">unsubscribe = function (type, what, handler) {
	var key = util.format(&#x27;%s.%s&#x27;, type, what);
	var handlers = this._handlers[key];
	if (!handlers) return;
	_.remove(handlers, _.partial(_.eq, handler));
	if (_.isEmpty(handlers)) this._handlers[key] = undefined;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsonapify.UnknownError" id="apidoc.module.jsonapify.UnknownError">module jsonapify.UnknownError</a></h1>


    <h2>
        <a href="#apidoc.element.jsonapify.UnknownError.UnknownError" id="apidoc.element.jsonapify.UnknownError.UnknownError">
        function <span class="apidocSignatureSpan">jsonapify.</span>UnknownError
        <span class="apidocSignatureSpan">(err, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function UnknownError(err, opts) {
	opts = opts || {};
	opts.status = 500;
	opts.detail = err.message;
	ApiError.call(this, opts);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.UnknownError.super_" id="apidoc.element.jsonapify.UnknownError.super_">
        function <span class="apidocSignatureSpan">jsonapify.UnknownError.</span>super_
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ApiError(opts) {
	opts = _.defaults({}, opts, {
		meta: {},
		links: {},
		status: 500,
	});
	this._id = opts.id;
	this._code = opts.code;
	this._meta = opts.meta;
	this._links = opts.links;
	this._title = opts.title;
	this._status = opts.status;
	this._detail = opts.detail;
	this._source = opts.source;
	Error.call(this, opts.detail);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsonapify.accessors" id="apidoc.module.jsonapify.accessors">module jsonapify.accessors</a></h1>


    <h2>
        <a href="#apidoc.element.jsonapify.accessors.Const" id="apidoc.element.jsonapify.accessors.Const">
        function <span class="apidocSignatureSpan">jsonapify.accessors.</span>Const
        <span class="apidocSignatureSpan">(value)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Const(value) {
	this._value = value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.accessors.Property" id="apidoc.element.jsonapify.accessors.Property">
        function <span class="apidocSignatureSpan">jsonapify.accessors.</span>Property
        <span class="apidocSignatureSpan">(path)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Property(path) {
	this._path = path;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
jsonapify detaches mongoose models from the actual representation of the resources. This allows for a lot of flexibility: as a matter
 of fact, declaring a non-readable field is this elegant:

```js
var User = require(&#x27;../models/User&#x27;);

var userResource = new jsonapify.Resource(User, {
	type: &#x27;users&#x27;,
	id: new jsonapify.<span class="apidocCodeKeywordSpan">Property</span>(&#x27;_id&#x27;),
	attributes: {
		email: new jsonapify.Property(&#x27;email&#x27;),
		password: {
			value: new jsonapify.Property(&#x27;password&#x27;),
			readable: false,
		},
	},
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.accessors.Ref" id="apidoc.element.jsonapify.accessors.Ref">
        function <span class="apidocSignatureSpan">jsonapify.accessors.</span>Ref
        <span class="apidocSignatureSpan">(resourceName, thisPath, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Ref(resourceName, thisPath, opts) {
	opts = opts || {};
	this._resourceName = resourceName;
	this._thisPath = thisPath;
	this._links = opts.links;
	this._meta = opts.meta;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var User = require(&#x27;../models/User&#x27;);
var roleResource = require(&#x27;./roles&#x27;).resource;

var userResource = new jsonapify.Resource(User, {
	type: &#x27;users&#x27;,
	id: new jsonapify.Property(&#x27;_id&#x27;),
	relationships: {
		role: new jsonapify.<span class="apidocCodeKeywordSpan">Ref</span>(&#x27;Role&#x27;, &#x27;role&#x27;),
	},
});

jsonapify.Runtime.addResource(&#x27;User&#x27;, userResource);
```

**Note**: **_related resources_ are not _subresources_**. Subresources are resource-like objects so tightly linked to their parent
 resource that they can&#x27;t exist on their own. jsonapify does not support access of related resources as subresources. This
is by-design.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.accessors.Refs" id="apidoc.element.jsonapify.accessors.Refs">
        function <span class="apidocSignatureSpan">jsonapify.accessors.</span>Refs
        <span class="apidocSignatureSpan">(resourceName, thisPath, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Refs(resourceName, thisPath, opts) {
	opts = opts || {};
	this._resourceName = resourceName;
	this._thisPath = thisPath;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.accessors.Template" id="apidoc.element.jsonapify.accessors.Template">
        function <span class="apidocSignatureSpan">jsonapify.accessors.</span>Template
        <span class="apidocSignatureSpan">(format)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function Template(format) {
	var self = this;
	this._strings = [];
	this._values = [];
	var chunks = format.split(/\$\{([^\}]*)\}/);
	_(chunks).chunk(2).forEach(function(stringValue) {
		self._strings.push(stringValue[0]);
		if (stringValue.length &#x3e; 1)
			self._values.push(stringValue[1]);
	}).run();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var User = require(&#x27;../models/User&#x27;);

var userResource = new jsonapify.Resource(User, {
	type: &#x27;users&#x27;,
	id: new jsonapify.Property(&#x27;_id&#x27;),
	links: {
		self: {
			value: new jsonapify.<span class="apidocCodeKeywordSpan">Template</span>(&#x27;/users/${_id}&#x27;),
			writable: false,
		},
	},
});

jsonapify.Runtime.addResource(&#x27;User&#x27;, userResource);
```
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsonapify.common" id="apidoc.module.jsonapify.common">module jsonapify.common</a></h1>


    <h2>
        <a href="#apidoc.element.jsonapify.common.createFilter" id="apidoc.element.jsonapify.common.createFilter">
        function <span class="apidocSignatureSpan">jsonapify.common.</span>createFilter
        <span class="apidocSignatureSpan">(queryParse, handler)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function createFilter(queryParse, handler) {
	return function(transaction) {
		var restype = transaction.resource.type;
		transaction.subscribe(restype, &#x27;start&#x27;, function(resource, req) {
			queryParse(req, function(type, params) {
				if (_.isUndefined(params)) {
					params = type;
					type = restype;
				}
				handler(transaction, req, type, params);
			});
		});
	};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

var _ = require(&#x27;lodash&#x27;);
var glob2re = require(&#x27;glob2re&#x27;);

var common = require(&#x27;./common&#x27;);

function filter() {
	return common.<span class="apidocCodeKeywordSpan">createFilter</span>(queryParser, function(transaction, req, type, param) {
		var filters = parseParam(param);
		transaction.subscribe(type, &#x27;query&#x27;, function(resview, query) {
			_.each(filters, function(filter, field) {
				resview.visitProperties(field, _.partialRight(filter, query));
			});
		});
	});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.common.modifyQuery" id="apidoc.element.jsonapify.common.modifyQuery">
        function <span class="apidocSignatureSpan">jsonapify.common.</span>modifyQuery
        <span class="apidocSignatureSpan">(uri, query)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function modifyQuery(uri, query) {
	var info = url.parse(uri);
	var queryObj = qs.parse(info.query);
	queryObj = _.merge(queryObj, query);
	info.search = &#x27;?&#x27; + qs.stringify(queryObj, { encode: false });
	return url.format(info);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		});

		transaction.subscribe(type, &#x27;end&#x27;, function(resource) {
			var selfLink = req.originalUrl;
			var response = transaction.response;
			var count = response.meta[&#x27;count&#x27;];
			var pageCount = Math.ceil(count / pageSize);
			response.links[&#x27;first&#x27;] = common.<span class="apidocCodeKeywordSpan">modifyQuery</span>(selfLink, { page: { number:
1 }});
			response.links[&#x27;last&#x27;] = common.modifyQuery(selfLink, { page: { number: pageCount }});
			if (pageNumber &#x3e; 1)
				response.links[&#x27;prev&#x27;] = common.modifyQuery(selfLink, { page: { number: pageNumber - 1 }});
			if (pageNumber &#x3c; pageCount)
				response.links[&#x27;next&#x27;] = common.modifyQuery(selfLink, { page: { number: pageNumber + 1 }});
		});
	});
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsonapify.errors" id="apidoc.module.jsonapify.errors">module jsonapify.errors</a></h1>


    <h2>
        <a href="#apidoc.element.jsonapify.errors.ApiError" id="apidoc.element.jsonapify.errors.ApiError">
        function <span class="apidocSignatureSpan">jsonapify.errors.</span>ApiError
        <span class="apidocSignatureSpan">(opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ApiError(opts) {
	opts = _.defaults({}, opts, {
		meta: {},
		links: {},
		status: 500,
	});
	this._id = opts.id;
	this._code = opts.code;
	this._meta = opts.meta;
	this._links = opts.links;
	this._title = opts.title;
	this._status = opts.status;
	this._detail = opts.detail;
	this._source = opts.source;
	Error.call(this, opts.detail);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.errors.HttpError" id="apidoc.element.jsonapify.errors.HttpError">
        function <span class="apidocSignatureSpan">jsonapify.errors.</span>HttpError
        <span class="apidocSignatureSpan">(status, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function HttpError(status, opts) {
	opts = opts || {};
	opts.status = status;
	opts.detail = http.STATUS_CODES[status];
	ApiError.call(this, opts);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.errors.InvalidFieldValue" id="apidoc.element.jsonapify.errors.InvalidFieldValue">
        function <span class="apidocSignatureSpan">jsonapify.errors.</span>InvalidFieldValue
        <span class="apidocSignatureSpan">(field, value, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function InvalidFieldValue(field, value, opts) {
	opts = opts || {};
	opts.status = 422;
	opts.detail = &#x27;Invalid Field Value&#x27;;
	ApiError.call(this, opts);
	this._field = field;
	this._value = value;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.errors.ResourceNotFound" id="apidoc.element.jsonapify.errors.ResourceNotFound">
        function <span class="apidocSignatureSpan">jsonapify.errors.</span>ResourceNotFound
        <span class="apidocSignatureSpan">(resource, anchor, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function ResourceNotFound(resource, anchor, opts) {
	opts = opts || {};
	opts.status = 404;
	opts.detail = &#x27;Resource Not Found&#x27;;
	ApiError.call(this, opts);
	this._resource = resource;
	this._anchor = anchor;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.errors.UnknownError" id="apidoc.element.jsonapify.errors.UnknownError">
        function <span class="apidocSignatureSpan">jsonapify.errors.</span>UnknownError
        <span class="apidocSignatureSpan">(err, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function UnknownError(err, opts) {
	opts = opts || {};
	opts.status = 500;
	opts.detail = err.message;
	ApiError.call(this, opts);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsonapify.filters" id="apidoc.module.jsonapify.filters">module jsonapify.filters</a></h1>


    <h2>
        <a href="#apidoc.element.jsonapify.filters.filter" id="apidoc.element.jsonapify.filters.filter">
        function <span class="apidocSignatureSpan">jsonapify.filters.</span>filter
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function filter() {
	return common.createFilter(queryParser, function(transaction, req, type, param) {
		var filters = parseParam(param);
		transaction.subscribe(type, &#x27;query&#x27;, function(resview, query) {
			_.each(filters, function(filter, field) {
				resview.visitProperties(field, _.partialRight(filter, query));
			});
		});
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var common = require(&#x27;./common&#x27;);
var filters = require(&#x27;../filters&#x27;);

var defaultOpts = {
	strict: false,
	filters: [
		filters.sort(),
		filters.<span class="apidocCodeKeywordSpan">filter</span>(),
		filters.select(),
		filters.paginateOffset(),
	],
};

function enumerate(chain, opts) {
	opts = _.defaults({}, opts, defaultOpts);
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.filters.paginate" id="apidoc.element.jsonapify.filters.paginate">
        function <span class="apidocSignatureSpan">jsonapify.filters.</span>paginate
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function paginate() {
	return common.createFilter(queryParser, function(transaction, req, type, params) {
		var pageNumber = params.number, pageSize = params.size;

		transaction.subscribe(type, &#x27;query&#x27;, function(resource, query) {
			query.skip((pageNumber - 1) * pageSize).limit(pageSize);
		});

		transaction.subscribe(type, &#x27;end&#x27;, function(resource) {
			var selfLink = req.originalUrl;
			var response = transaction.response;
			var count = response.meta[&#x27;count&#x27;];
			var pageCount = Math.ceil(count / pageSize);
			response.links[&#x27;first&#x27;] = common.modifyQuery(selfLink, { page: { number: 1 }});
			response.links[&#x27;last&#x27;] = common.modifyQuery(selfLink, { page: { number: pageCount }});
			if (pageNumber &#x3e; 1)
				response.links[&#x27;prev&#x27;] = common.modifyQuery(selfLink, { page: { number: pageNumber - 1 }});
			if (pageNumber &#x3c; pageCount)
				response.links[&#x27;next&#x27;] = common.modifyQuery(selfLink, { page: { number: pageNumber + 1 }});
		});
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.filters.paginateOffset" id="apidoc.element.jsonapify.filters.paginateOffset">
        function <span class="apidocSignatureSpan">jsonapify.filters.</span>paginateOffset
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function paginate() {
	return common.createFilter(queryParser, function(transaction, req, type, params) {
		var pageOffset = params.offset, pageLimit = params.limit;

		transaction.subscribe(type, &#x27;query&#x27;, function(resource, query) {
			query.skip(pageOffset).limit(pageLimit);
		});

		transaction.subscribe(type, &#x27;end&#x27;, function(resource) {
			var selfLink = req.originalUrl;
			var response = transaction.response;
			var count = response.meta[&#x27;count&#x27;];
			response.links[&#x27;first&#x27;] = common.modifyQuery(selfLink, { page: {
				offset: 0
			}});
			response.links[&#x27;last&#x27;] = common.modifyQuery(selfLink, { page: {
				offset: count - pageLimit
			}});
			if (pageOffset &#x3e; 0) {
				response.links[&#x27;prev&#x27;] = common.modifyQuery(selfLink, { page: {
					offset: (pageOffset - pageLimit &#x3c; 0) ? 0 : pageOffset - pageLimit
				}});
			}
			if ((pageOffset + pageLimit) &#x3c; count) {
				response.links[&#x27;next&#x27;] = common.modifyQuery(selfLink, { page: {
					offset: pageOffset + pageLimit
				}});
			}
		});
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

var defaultOpts = {
	strict: false,
	filters: [
		filters.sort(),
		filters.filter(),
		filters.select(),
		filters.<span class="apidocCodeKeywordSpan">paginateOffset</span>(),
	],
};

function enumerate(chain, opts) {
	opts = _.defaults({}, opts, defaultOpts);
	chain = common.parseChain(chain);
	var lastLink = chain.pop();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.filters.select" id="apidoc.element.jsonapify.filters.select">
        function <span class="apidocSignatureSpan">jsonapify.filters.</span>select
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function select() {
	return common.createFilter(queryParser, function(transaction, req, type, fields) {
		transaction.subscribe(type, &#x27;view&#x27;, function(resource, resview) {
			fields = [&#x27;type&#x27;, &#x27;id&#x27;].concat(fields);
			return resview.select(fields);
		});
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

var common = require(&#x27;./common&#x27;);

function select() {
	return common.createFilter(queryParser, function(transaction, req, type, fields) {
		transaction.subscribe(type, &#x27;view&#x27;, function(resource, resview) {
			fields = [&#x27;type&#x27;, &#x27;id&#x27;].concat(fields);
			return resview.<span class="apidocCodeKeywordSpan">select</span>(fields);
		});
	});
}

function queryParser(req, callback) {
	var params = req.query[&#x27;fields&#x27;];
	if (!_.isArray(params)) params = [params];
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.filters.sort" id="apidoc.element.jsonapify.filters.sort">
        function <span class="apidocSignatureSpan">jsonapify.filters.</span>sort
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function sort() {
	return common.createFilter(queryParser, function(transaction, req, type, fields) {
		transaction.subscribe(type, &#x27;query&#x27;, function(resview, query) {
			_.each(fields, function(field) {
				resview.visitProperties(field.name, function(property) {
					var param = _.set({}, property, field.order);
					query.sort(param);
				});
			});
		});
	});
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

function sort() {
	return common.createFilter(queryParser, function(transaction, req, type, fields) {
		transaction.subscribe(type, &#x27;query&#x27;, function(resview, query) {
			_.each(fields, function(field) {
				resview.visitProperties(field.name, function(property) {
					var param = _.set({}, property, field.order);
					query.<span class="apidocCodeKeywordSpan">sort</span>(param);
				});
			});
		});
	});
}

function queryParser(req, callback) {
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsonapify.middleware" id="apidoc.module.jsonapify.middleware">module jsonapify.middleware</a></h1>


    <h2>
        <a href="#apidoc.element.jsonapify.middleware.assign" id="apidoc.element.jsonapify.middleware.assign">
        function <span class="apidocSignatureSpan">jsonapify.middleware.</span>assign
        <span class="apidocSignatureSpan">(chain, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function assign(chain, opts) {
	opts = _.defaults({}, opts, defaultOpts);
	chain = common.parseChain(chain);
	var lastLink = chain.pop();
	return middleware;

	function middleware(req, res, next) {
		var resource = lastLink.resource;
		var transaction = common.initTransaction(resource, res);
		_.each(opts.filters, function(filter) { filter(transaction) });
		transaction.notify(resource, &#x27;start&#x27;, req);
		async.waterfall([
			function(next) {
				common.applyChain(transaction, chain, req, next);
			},
			function(parent, next) {
				var selector = lastLink.selector;
				var resview = resource.view(transaction);
				var filter = common.resolveSelector(selector, req, parent);
				resview.findOne(filter, function(err, object) {
					if (err) return next(err);
					object = object || new resource.model(filter);
					next(null, object, resview);
				});
			},
			function(object, resview, next) {
				resview.deserialize(req.body.data, object, function(err, data) {
					err ? next(err) : next(null, data, resview);
				});
			},
		], function(err, object, resview) {
			if (err) return next(err);
			var response = transaction.response;
			if (opts.noWait) {
				response.raw.statusCode = 202;
				transaction.notify(resource, &#x27;end&#x27;);
				response.send(null);
				object.save(next);
			} else {
				async.parallel({
					save: function(next) {
						object.save(next);
					},
					data: function(next) {
						resview.serialize(object, next);
					},
				}, function(err, results) {
					if (err) return next(err);
					response.data = results.data;
					transaction.notify(resource, &#x27;end&#x27;);
					response.send();
					next();
				});
			}
		});
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.middleware.create" id="apidoc.element.jsonapify.middleware.create">
        function <span class="apidocSignatureSpan">jsonapify.middleware.</span>create
        <span class="apidocSignatureSpan">(chain, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function create(chain, opts) {
	opts = _.defaults({}, opts, defaultOpts);
	chain = common.parseChain(chain);
	var lastLink = chain.pop();
	return middleware;

	function middleware(req, res, next) {
		var resource = lastLink.resource;
		var transaction = common.initTransaction(resource, res);
		_.each(opts.filters, function(filter) { filter(transaction) });
		transaction.notify(resource, &#x27;start&#x27;, req);
		async.waterfall([
			function(next) {
				common.applyChain(transaction, chain, req, next);
			},
			function(parent, next) {
				var selector = lastLink.selector;
				var filter = common.resolveSelector(selector, req, parent);
				var object = new resource.model(filter);
				var resview = resource.view(transaction);
				resview.deserialize(req.body.data, object, function(err) {
					err ? next(err) : next(null, object, resview);
				});
			},
		], function(err, object, resview) {
			if (err) return next(err);
			var response = transaction.response;
			response.links[&#x27;self&#x27;] = req.originalUrl;
			if (opts.noWait) {
				response.raw.statusCode = 202;
				transaction.notify(resource, &#x27;end&#x27;);
				response.send(null);
				object.save(next);
			} else {
				async.parallel({
					save: function(next) {
						object.save(next);
					},
					data: function(next) {
						resview.serialize(object, next);
					},
				}, function(err, results) {
					if (err) return next(err);
					var data = results.data;
					response.data = data;
					response.raw.statusCode = 201;
					var location = _.get(data, &#x27;links.self&#x27;);
					if (location) response.raw.set(&#x27;Location&#x27;, location);
					transaction.notify(resource, &#x27;end&#x27;);
					response.send();
					next();
				});
			}
		});
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.middleware.enumerate" id="apidoc.element.jsonapify.middleware.enumerate">
        function <span class="apidocSignatureSpan">jsonapify.middleware.</span>enumerate
        <span class="apidocSignatureSpan">(chain, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function enumerate(chain, opts) {
	opts = _.defaults({}, opts, defaultOpts);
	chain = common.parseChain(chain);
	var lastLink = chain.pop();
	return middleware;

	function middleware(req, res, next) {
		var resource = lastLink.resource;
		var transaction = common.initTransaction(resource, res);
		_.each(opts.filters, function(filter) { filter(transaction) });
		transaction.notify(resource, &#x27;start&#x27;, req);
		async.waterfall([
			function(next) {
				common.applyChain(transaction, chain, req, next);
			},
			function(parent, next) {
				var selector = lastLink.selector;
				var filter = common.resolveSelector(selector, req, parent);
				var resview = resource.view(transaction);
				async.parallel({
					data: function(next) {
						resview.findMany(filter, function(err, objects) {
							if (err) return next(err);
							async.map(objects, function(object, next) {
								resview.serialize(object, next);
							}, next);
						});
					},
					count: function(next) {
						resview.model.where(filter).count(next);
					},
				}, next);
			},
		], function(err, results) {
			if (err) return next(err);
			var response = transaction.response;
			response.meta.count = results.count;
			response.links.self = req.originalUrl;
			response.data = results.data;
			transaction.notify(resource, &#x27;end&#x27;);
			response.send();
			next();
		});
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

## Exposing resources

We all know about [DRY](https://en.wikipedia.org/wiki/Don%27t_repeat_yourself). But then, why do we keep writing the same endpoint
 boilerplate again and again? jsonapify offers all [CRUD operations](https://en.wikipedia.org/wiki/Create,_read,_update_and_delete
) as connect-compatible middleware. That means plugging a new endpoint is as simple as it gets:

```js
app.get(&#x27;/users/&#x27;, [
	jsonapify.<span class="apidocCodeKeywordSpan">enumerate</span>(&#x27;User&#x27;),
	jsonapify.errorHandler()
]);
```

## Middleware and resource addressing

Everything in REST is a resource. Resources can have subresources, too. That means that you can apply a READ operation (GET verb
 in REST terms) to a subresource. Let&#x27;s see how resource addressing works in jsonapify.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.middleware.errorHandler" id="apidoc.element.jsonapify.middleware.errorHandler">
        function <span class="apidocSignatureSpan">jsonapify.middleware.</span>errorHandler
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function errorHandler() {
	return middleware;
	
	function middleware(err, req, res, next) {
		var transaction = common.initTransaction(null, res);
		var response = transaction.response;
		if (!(err instanceof ApiError))
			err = new UnknownError(err);
		response.error(err);
		response.send();
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
## Exposing resources

We all know about [DRY](https://en.wikipedia.org/wiki/Don%27t_repeat_yourself). But then, why do we keep writing the same endpoint
 boilerplate again and again? jsonapify offers all [CRUD operations](https://en.wikipedia.org/wiki/Create,_read,_update_and_delete
) as connect-compatible middleware. That means plugging a new endpoint is as simple as it gets:

```js
app.get(&#x27;/users/&#x27;, [
	jsonapify.enumerate(&#x27;User&#x27;),
	jsonapify.<span class="apidocCodeKeywordSpan">errorHandler</span>()
]);
```

## Middleware and resource addressing

Everything in REST is a resource. Resources can have subresources, too. That means that you can apply a READ operation (GET verb
 in REST terms) to a subresource. Let&#x27;s see how resource addressing works in jsonapify.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.middleware.modify" id="apidoc.element.jsonapify.middleware.modify">
        function <span class="apidocSignatureSpan">jsonapify.middleware.</span>modify
        <span class="apidocSignatureSpan">(chain, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function modify(chain, opts) {
	opts = _.defaults({}, opts, defaultOpts);
	chain = common.parseChain(chain);
	return middleware;

	function middleware(req, res, next) {
		var resource = _.last(chain).resource;
		var transaction = common.initTransaction(resource, res);
		_.each(opts.filters, function(filter) { filter(transaction) });
		transaction.notify(resource, &#x27;start&#x27;, req);
		async.waterfall([
			function(next) {
				common.applyChain(transaction, chain, req, next);
			},
			function(object, next) {
				var resview = resource.view(transaction);
				resview.serialize(object, function(err, data) {
					err ? next(err) : next(null, data, resview, object);
				});
			},
			function(data, resview, object, next) {
				try {
					var result = jsonpatch.apply_patch(data, req.body.data);
					resview.deserialize(result, object, function(err) {
						err ? next(err) : next(null, object, result);
					});
				} catch (err) { return next(err) }
			},
			function(object, result, next) {
				object.save(function(err) {
					err ? next(err) : next(null, result);
				});
			},
		], function(err, resdata) {
			if (err) return next(err);
			var response = transaction.response;
			response.data = resdata;
			transaction.notify(resource, &#x27;end&#x27;);
			response.send();
			next();
		});
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.middleware.read" id="apidoc.element.jsonapify.middleware.read">
        function <span class="apidocSignatureSpan">jsonapify.middleware.</span>read
        <span class="apidocSignatureSpan">(chain, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function read(chain, opts) {
	opts = _.defaults({}, opts, defaultOpts);
	chain = common.parseChain(chain);
	return middleware;

	function middleware(req, res, next) {
		var lastLink = _.last(chain);
		var resource = lastLink.resource;
		var transaction = common.initTransaction(resource, res);
		_.each(opts.filters, function(filter) { filter(transaction) });
		transaction.notify(resource, &#x27;start&#x27;, req);
		async.waterfall([
			function(next) {
				common.applyChain(transaction, chain, req, next);
			},
			function(object, next) {
				var resview = resource.view(transaction);
				resview.serialize(object, next);
			},
		], function(err, resdata) {
			if (err) return next(err);
			var response = transaction.response;
			response.links.self = req.originalUrl;
			response.data = resdata;
			transaction.notify(resource, &#x27;end&#x27;);
			response.send();
			next();
		});
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.middleware.remove" id="apidoc.element.jsonapify.middleware.remove">
        function <span class="apidocSignatureSpan">jsonapify.middleware.</span>remove
        <span class="apidocSignatureSpan">(chain, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function remove(chain, opts) {
	opts = _.defaults({}, opts, defaultOpts);
	chain = common.parseChain(chain);
	return middleware;

	function middleware(req, res, next) {
		var resource = _.last(chain).resource;
		var transaction = common.initTransaction(resource, res);
		_.each(opts.filters, function(filter) { filter(transaction) });
		transaction.notify(resource, &#x27;start&#x27;, req);
		common.applyChain(transaction, chain, req, function(err, object) {
			if (err) return next(err);
			var response = transaction.response;
			if (opts.noWait) {
				response.raw.statusCode = 202;
				transaction.notify(resource, &#x27;end&#x27;);
				response.send(null);
				object.remove(next);
			} else {
				object.remove(function(err) {
					if (err) return next(err);
					response.raw.statusCode = 204;
					transaction.notify(resource, &#x27;end&#x27;);
					response.send(null);
					next();
				});
			}
		});
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
		common.applyChain(transaction, chain, req, function(err, object) {
			if (err) return next(err);
			var response = transaction.response;
			if (opts.noWait) {
				response.raw.statusCode = 202;
				transaction.notify(resource, &#x27;end&#x27;);
				response.send(null);
				object.<span class="apidocCodeKeywordSpan">remove</span>(next);
			} else {
				object.remove(function(err) {
					if (err) return next(err);
					response.raw.statusCode = 204;
					transaction.notify(resource, &#x27;end&#x27;);
					response.send(null);
					next();
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.middleware.update" id="apidoc.element.jsonapify.middleware.update">
        function <span class="apidocSignatureSpan">jsonapify.middleware.</span>update
        <span class="apidocSignatureSpan">(chain, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function update(chain, opts) {
	opts = _.defaults({}, opts, defaultOpts);
	chain = common.parseChain(chain);
	return middleware;

	function middleware(req, res, next) {
		var resource = _.last(chain).resource;
		var transaction = common.initTransaction(resource, res);
		_.each(opts.filters, function(filter) { filter(transaction) });
		transaction.notify(resource, &#x27;start&#x27;, req);
		common.applyChain(transaction, chain, req, function(err, object) {
			if (err) return next(err);
			var resview = resource.view(transaction);
			resview.deserialize(req.body.data, object, function(err) {
				if (err) return next(err);
				var response = transaction.response;
				if (opts.noWait) {
					response.raw.statusCode = 202;
					transaction.notify(resource, &#x27;end&#x27;);
					response.send(null);
					object.save(next);
				} else {
					async.parallel({
						save: function(next) {
							object.save(next);
						},
						data: function(next) {
							resview.serialize(object, next);
						},
					}, function(err, results) {
						if (err) return next(err);
						response.data = results.data;
						transaction.notify(resource, &#x27;end&#x27;);
						response.send();
						next();
					});
				}
			});
		});
	}
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.jsonapify.selectors" id="apidoc.module.jsonapify.selectors">module jsonapify.selectors</a></h1>


    <h2>
        <a href="#apidoc.element.jsonapify.selectors.param" id="apidoc.element.jsonapify.selectors.param">
        function <span class="apidocSignatureSpan">jsonapify.selectors.</span>param
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function param(name) {
	return function(req, parent) {
		return req.params[name];
	};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
## Middleware and resource addressing

Everything in REST is a resource. Resources can have subresources, too. That means that you can apply a READ operation (GET verb
 in REST terms) to a subresource. Let&#x27;s see how resource addressing works in jsonapify.

* Resource chains come in the form of **\[\(typename, \[selector\]\)+\]**.
* Resource chain selectors are applied at request-time, and are used to select a subset of objects of the preceeding resource type
.
* At this moment, selectors can get info from:
    - Request params: `jsonapify.<span class="apidocCodeKeywordSpan">param</span>(...)`
    - Request query params: `jsonapify.query(...)`
    - Resource parent object: `jsonapify.parent(...)`
* There are **partial** and **full** resource chains. A *full resource chain* maps to a single resource object, whereas a *partial
 resource chain* maps to a subset of resource objects. The same chain can be considered *full* or *partial* depending on the middleware
 (*partial* for enumerate, and *full* for create, read, update and the like).
* Some jsonapify operations require full resource chains (ie: *READ*, *UPDATE*,...), while others require partial resource chains
 (only *CREATE* at this moment). Therefore, the same resource chain may be interpreted as a full or a partial one depending on the
 context.

For example, a *READ* operation with the following resource chain, directed to the URI &#x27;/groups/{group}/users/{user}&#x27;,
would retrieve a resource object of type &#x27;User&#x27;, with `group == parent._id and name == user`, where `parent` is the group
 the user logically belongs to:
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.selectors.parent" id="apidoc.element.jsonapify.selectors.parent">
        function <span class="apidocSignatureSpan">jsonapify.selectors.</span>parent
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function parent(name) {
	return function(req, parent) {
		return _.get(parent, name);
	};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Everything in REST is a resource. Resources can have subresources, too. That means that you can apply a READ operation (GET verb
 in REST terms) to a subresource. Let&#x27;s see how resource addressing works in jsonapify.

* Resource chains come in the form of **\[\(typename, \[selector\]\)+\]**.
* Resource chain selectors are applied at request-time, and are used to select a subset of objects of the preceeding resource type
.
* At this moment, selectors can get info from:
    - Request params: `jsonapify.param(...)`
    - Request query params: `jsonapify.query(...)`
    - Resource parent object: `jsonapify.<span class="apidocCodeKeywordSpan">parent</span>(...)`
* There are **partial** and **full** resource chains. A *full resource chain* maps to a single resource object, whereas a *partial
 resource chain* maps to a subset of resource objects. The same chain can be considered *full* or *partial* depending on the middleware
 (*partial* for enumerate, and *full* for create, read, update and the like).
* Some jsonapify operations require full resource chains (ie: *READ*, *UPDATE*,...), while others require partial resource chains
 (only *CREATE* at this moment). Therefore, the same resource chain may be interpreted as a full or a partial one depending on the
 context.

For example, a *READ* operation with the following resource chain, directed to the URI &#x27;/groups/{group}/users/{user}&#x27;,
would retrieve a resource object of type &#x27;User&#x27;, with `group == parent._id and name == user`, where `parent` is the group
 the user logically belongs to:

```js
/* full chain */ [
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.jsonapify.selectors.query" id="apidoc.element.jsonapify.selectors.query">
        function <span class="apidocSignatureSpan">jsonapify.selectors.</span>query
        <span class="apidocSignatureSpan">(name)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function query(name) {
	return function(req, parent) {
		return req.query[name];
	};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Everything in REST is a resource. Resources can have subresources, too. That means that you can apply a READ operation (GET verb
 in REST terms) to a subresource. Let&#x27;s see how resource addressing works in jsonapify.

* Resource chains come in the form of **\[\(typename, \[selector\]\)+\]**.
* Resource chain selectors are applied at request-time, and are used to select a subset of objects of the preceeding resource type
.
* At this moment, selectors can get info from:
    - Request params: `jsonapify.param(...)`
    - Request query params: `jsonapify.<span class="apidocCodeKeywordSpan">query</span>(...)`
    - Resource parent object: `jsonapify.parent(...)`
* There are **partial** and **full** resource chains. A *full resource chain* maps to a single resource object, whereas a *partial
 resource chain* maps to a subset of resource objects. The same chain can be considered *full* or *partial* depending on the middleware
 (*partial* for enumerate, and *full* for create, read, update and the like).
* Some jsonapify operations require full resource chains (ie: *READ*, *UPDATE*,...), while others require partial resource chains
 (only *CREATE* at this moment). Therefore, the same resource chain may be interpreted as a full or a partial one depending on the
 context.

For example, a *READ* operation with the following resource chain, directed to the URI &#x27;/groups/{group}/users/{user}&#x27;,
would retrieve a resource object of type &#x27;User&#x27;, with `group == parent._id and name == user`, where `parent` is the group
 the user logically belongs to:

```js
...</pre></li>
    </ul>


</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
